!function(){angular.module("appModule",["ngRoute","ngCookies","ui.bootstrap","clientModule","vehicleModule","app","vehicleEntranceModule"]),angular.module("appModule").constant("systemConfig",{apiUrl:"localhost"===location.hostname?"http://localhost:8080":location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}),angular.module("appModule").config(["$routeProvider",function(e){e.when("/",{redirectTo:"/account/home"}).when("/login",{templateUrl:"app/system/login/login.html",controller:"LoginController"}).when("/account/home",{templateUrl:"app/service/vehicle-entrance/vehicle-entrance.html",controller:"vehicleEntranceController"}).when("/reports/general/report-viewer",{templateUrl:"app/reports/report-viewer/report-viewer.html",controller:"ReportViewerController"}).when("/master/create-account",{templateUrl:"app/master/create-account/create-account.html",controller:"createAccountController"}).when("/setting/account-settings",{templateUrl:"app/master/account-settings/account-settings.html"}).when("/transaction/bank-reconciliation",{templateUrl:"app/accounts/bank-reconciliation/bank-reconciliation.html",controller:"bankReconciliationController"}).when("/transaction/write-cheque",{templateUrl:"app/accounts/cheque/write-cheque.html"}).when("/transaction/voucher",{templateUrl:"app/accounts/voucher/voucher.html",controller:"voucherController"}).when("/transaction/fund-transfer",{templateUrl:"app/accounts/fund-transfer/fund-transfer.html"}).when("/transaction/deposit",{templateUrl:"app/accounts/deposit/deposit.html"}).when("/transaction/return-cheque",{templateUrl:"app/accounts/return-cheque/return-cheque.html"}).when("/transaction/payment-to-diposit",{templateUrl:"app/accounts/payment-to-deposit/payment-to-deposit.html"}).when("/transaction/journal",{templateUrl:"app/accounts/journal/journal.html",controller:"journalController"}).otherwise({redirectTo:"/"})}])}(),function(){angular.module("appModule").controller("bankReconciliationController",["$scope","bankReconciliationModel","$timeout","$uibModalStack","$uibModal","Notification","ConfirmPane",function(e,t,n,i,a,o,r){e.model=new t,e.ui={},e.model.currentBranch={},e.ui.focus=function(e){n(function(){document.querySelectorAll(e)[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus("#bankAccount"),e.model.tempData.transactionDate=new Date},e.ui.selectReconciliationCheque=function(t){e.model.data.transactionDate?e.model.data.accAccount?r.primaryConfirm("DO YOU WANT TO RECONCILE THIS CHEQUE !").confirm(function(){e.model.addReconciliationCheque(t)}):o.error("select an account to reconcile selected cheque !"):o.error("select a reconciliation date !")},e.ui.addReconciliationData=function(){e.model.data.accAccount?(e.model.setIncomeExpenceAccount(),a.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"reconciliationPopup.html",scope:e,size:"lg"})):o.error("select a bank account to view oher reconcile popup ! ")},e.ui.addClass=function(e){return"reconcile"===e.class?"bg-danger":"other"===e.class?"bg-success":"background-dark"},e.ui.modelCancel=function(){i.dismissAll()},e.ui.save=function(){var t=!0;e.ui.reconcileCheque()||(t=!1,o.error("Reconcile Cheque is empty !")),t&&e.model.save()},e.ui.reconcileCheque=function(){var t=!1;return angular.forEach(e.model.saveDataList,function(e){if("reconcile"===e.class)return void(t=!0)}),t},e.ui.delete=function(t){t.class?e.model.remove(t):r.warningConfirm("DO YOU WANT TO DELETE THIS TRANSACTION !").confirm(function(){e.model.delete(t)})},e.ui.popupSelectAccAccount=function(t){e.model.disableValue="",angular.forEach(e.model.incomeExpenceAccList,function(n){if(n.indexNo===t)return void(e.model.disableValue=n.accMain.isExpence?"debit":"credit")})},e.ui.popupAddData=function(){var t=!0;e.model.tempData.accAccount||(t=!1,o.error("select an account to add data ")),e.model.tempData.branch||(t=!1,o.error("select a branch to add data")),e.model.tempData.transactionDate||(t=!1,o.error("select a date to add data")),e.model.tempData.credit||e.model.tempData.debit||(t=!1,o.error("add credit or debit amount to add date")),t&&e.model.popupAddData()},e.ui.popupSave=function(){var t=!0;e.model.popupDataList.length||(t=!1,o.error("Empty data to save")),t&&(e.model.popupSave(),e.ui.modelCancel())},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("bankReconciliationFactory",function(){var e={};return e.Data=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:"PAYMENT VOUCHER",refNumber:null,type:"VOUCHER",typeIndexNo:null,description:"",chequeDate:null,monthStart:null,balance:0,deleteRefNo:0,reconciliationGroup:0}},e.tempDate=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:"PAYMENT VOUCHER",refNumber:null,type:"VOUCHER",typeIndexNo:null,description:"",chequeDate:null,deleteRefNo:0,reconciliationGroup:0}},e})}(),function(){var e=function(e,t,n,i,a,o){function r(){this.constructor()}return r.prototype={data:{},tempData:{},currentBranch:{},accAccountList:[],incomeExpenceAccList:[],branchList:[],reconciliationList:[],saveDataList:[],popupDataList:[],accTypeList:[],totBalance:0,constructor:function(){var n=this;n.data=e.Data(),n.tempData=e.tempDate(),t.loadBranch().success(function(e){n.branchList=e}),t.currentBranch().success(function(e){n.currentBranch=e,n.data.branch=e.indexNo}),this.loadAccAccount()},loadAccAccount:function(){var e=this;t.loadAccAccounts().success(function(t){e.accAccountList=t})},selectBankAccount:function(e,n){var i=this,o=a("date")(n,"yyyy-MM-dd");t.getReconciliationDetail(e,o).success(function(e){i.reconciliationList=e,i.reconciliationValueCaluclator()}),t.loadAccBalance(e).success(function(e){i.data.value=e})},selectDate:function(){this.reconciliationList.length||this.selectBankAccount(this.data.accAccount,this.data.transactionDate);var n=a("date")(this.data.transactionDate,"yyyy"),i=a("date")(this.data.transactionDate,"MM"),o=n+"-"+i+"-1",r=this;t.getStartBalance(o,this.data.accAccount).success(function(e){r.data.monthStart=e,r.totBalance=e}),this.saveDataList.length||t.loadTransactions(n,i,this.data.accAccount).success(function(t){r.saveDataList=t;var n=e.Data();n.transactionDate=new Date(o),n.description="B / f ",n.balance=r.data.monthStart,r.saveDataList.unshift(n),r.balanceCalculator()})},balanceCalculator:function(){console.log("balanceCalculator");var e=this;e.saveDataList=a("orderBy")(e.saveDataList,"transactionDate"),e.totBalance=e.data.monthStart;var t=0,n=0;angular.forEach(e.saveDataList,function(i){e.totBalance+=i.debit,e.totBalance-=i.credit,i.balance=e.totBalance,t+=i.debit,n+=i.credit}),e.data.value=e.totBalance,e.data.creditTotal=n,e.data.debitTotal=t},reconciliationValueCaluclator:function(){console.log("reconciliationValueCaluclator");var e=0,t=0;angular.forEach(this.reconciliationList,function(n){e+=n.debit,t+=n.credit}),this.data.reconcileValue=e-t},addReconciliationCheque:function(e){var t=this;angular.forEach(this.reconciliationList,function(n,i){e.class="reconcile",e.transactionDate=a("date")(t.data.transactionDate,"yyyy-MM-dd"),e.indexNo===n.indexNo&&(t.saveDataList.push(e),t.reconciliationList.splice(i,1))}),t.reconciliationValueCaluclator(),t.balanceCalculator()},branchLable:function(e){var t;return angular.forEach(this.branchList,function(n){if(n.indexNo===e)return void(t=n.branchCode+" - "+n.name)}),t},accountLable:function(e){var t;return angular.forEach(this.accAccountList,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},save:function(){var i=n.defer(),a=this,r=[];angular.forEach(this.saveDataList,function(e){"reconcile"===e.class&&r.push(e)});var c={data:this.data,dataList:r};t.saveBankReconciliation(JSON.stringify(c)).success(function(t){o.success("Reconcile Cheque Save Success"),a.saveDataList=[],a.reconciliationList=[],a.data=e.Data(),i.resolve(t)}).error(function(e){i.reject(e)})},remove:function(e){var t=this;angular.forEach(this.saveDataList,function(n,i){if(e===parseInt(n.indexNo))return t.saveDataList.splice(i,1),void t.reconciliationValueCaluclator()}),t.getDeleteReconciliationCheque(e),t.balanceCalculator()},delete:function(e){var n=this;t.delete(e.deleteRefNo).success(function(t){angular.forEach(n.saveDataList,function(t,i){if(console.log(e.indexNo+" = "+t.indexNo),e.indexNo===parseInt(t.indexNo))return void n.saveDataList.splice(i,1)}),n.balanceCalculator(),o.success("delete success")})},getDeleteReconciliationCheque:function(e){var n=this;t.getDeleteReconciliationCheque(e).success(function(e){n.reconciliationList.push(e),n.reconciliationValueCaluclator()})},setIncomeExpenceAccount:function(){var e=this;angular.forEach(this.accAccountList,function(t){(t.accMain.isExpence||t.accMain.isIncome)&&e.incomeExpenceAccList.push(t)})},popupAddData:function(){var t=this;t.tempData.transactionDate=a("date")(t.tempData.transactionDate,"yyyy-MM-dd"),t.popupDataList.push(t.tempData),t.tempData=e.tempDate(),t.tempData.branch=t.currentBranch.indexNo},popupSave:function(){var e=n.defer(),i=this,a={data:i.data,dataList:i.popupDataList};console.log(a),t.savePopupData(JSON.stringify(a)).success(function(t){o.success("Other Reconcile data Save Success !"),i.popupDataList=[],e.resolve(t)}).error(function(t){e.reject(t)})}},r};e.$inject=["bankReconciliationFactory","bankReconciliationService","$q","$timeout","$filter","Notification"],angular.module("appModule").factory("bankReconciliationModel",e)}(),function(){var e=function(e,t){this.loadAccAccounts=function(){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account/find-only-account")},this.currentBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch/current-branch")},this.loadBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch")},this.loadAccBalance=function(n){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account/find-account-value-all/"+n)},this.getReconciliationDetail=function(n,i){return e.get(t.apiUrl+"/api/care-point/transaction/bank-reconciliation/get-reconciliation-detail/"+i+"/"+n)},this.getStartBalance=function(n,i){return e.get(t.apiUrl+"/api/care-point/transaction/bank-reconciliation/get-start-balance/"+n+"/"+i)},this.loadTransactions=function(n,i,a){return e.get(t.apiUrl+"/api/care-point/transaction/bank-reconciliation/load-transactions/"+n+"/"+i+"/"+a)},this.saveBankReconciliation=function(n){return e.post(t.apiUrl+"/api/care-point/transaction/bank-reconciliation/save",n)},this.savePopupData=function(n){return e.post(t.apiUrl+"/api/care-point/transaction/bank-reconciliation/savePopup",n)},this.getDeleteReconciliationCheque=function(n){return e.get(t.apiUrl+"/api/care-point/transaction/bank-reconciliation/get-delete-reconciliation-cheque/"+n)},this.delete=function(n){return e.delete(t.apiUrl+"/api/care-point/transaction/bank-reconciliation/delete/"+n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("bankReconciliationService",e)}(),function(){angular.module("appModule").controller("journalController",["$scope","journalModel","$timeout","Notification","ConfirmPane",function(e,t,n,i,a){e.model=new t,e.ui={},e.ui.focus=function(e){n(function(){document.querySelectorAll(e)[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus("#date"),e.model.new()},e.ui.save=function(){var t=!0;e.model.data.transactionDate||(t=!1,i.error("insert date to save !")),e.model.data.description||(t=!1,i.error("insert description to save !")),e.model.dataList.length||(t=!1,i.error("insert data to save !")),e.model.data.totalDebit!==e.model.data.totalCredit&&0!==e.model.data.totalCredit&&(t=!1,i.error("total debit and credit amount is deference!")),t&&a.successConfirm("DO YOU WANT TO SAVE !").confirm(function(){e.model.save().then(function(t){i.success(t+" data records save success !"),e.ui.mode="IDEAL"})})},e.ui.addData=function(){var t=!0;e.model.data.transactionDate||(t=!1,i.error("insert date to add !")),e.model.data.description||(t=!1,i.error("insert description to add !")),e.model.tempData.debit||e.model.tempData.credit||(t=!1,i.error("insert debit or credit amount to add !")),e.model.tempData.debit&&e.model.tempData.credit&&(t=!1,i.error("invalied debit and credit amount !")),e.model.tempData.accAccount||(t=!1,i.error("select a account name to add !")),e.model.tempData.branch||(t=!1,i.error("select a branch name to add !")),t&&(e.model.add(),e.ui.focus("#accMain"))},e.ui.focusAddFunction=function(t){13===(t?t.keyCode||t.which:13)&&e.ui.addData()},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("journalFactory",function(){var e={};return e.Data=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:null,refNumber:null,type:null,typeIndexNo:null,description:null,bankReconciliation:!1,reconciliationGroup:0}},e.tempData=function(){return{accMain:null,accountName:null,branch:null,debit:0,credit:0,cop:!1,description:null,date:null}},e})}(),function(){var e=function(e,t,n,i,a){function o(){this.constructor()}return o.prototype={data:{},tempData:{},currentBranch:{},dataList:[],accAccountList:[],accflowList:[],branchList:[],constructor:function(){var n=this;n.data=e.Data(),n.tempData=e.tempData(),t.loadAccAccounts().success(function(e){n.accAccountList=e}),t.loadBranch().success(function(e){n.branchList=e}),t.currentBranch().success(function(e){n.currentBranch=e})},setAccountFlow:function(e){var n=this;t.setAccFlow(e).success(function(e){n.accflowList=e,console.log(e)})},new:function(){this.data.transactionDate=new Date,this.tempData.branch=this.currentBranch.indexNo},accountLable:function(e){var t;return angular.forEach(this.accAccountList,function(n){if(n.indexNo===e)return void(t=n.accCode+" - "+n.name)}),t},branchLable:function(e){var t;return angular.forEach(this.branchList,function(n){if(n.indexNo===e)return void(t=n.branchCode+" - "+n.name)}),t},setMainAccount:function(e){this.setAccountFlow(e)},add:function(){var t={};t.indexNo=null,t.transactionDate=i("date")(new Date(this.data.transactionDate),"yyyy-MM-dd"),t.currentDate=null,t.time=null,t.branch=this.tempData.branch,t.currentBranch=null,t.user=null,t.debit=this.tempData.debit,t.credit=this.tempData.credit,t.accAccount=this.tempData.accAccount,t.formName=null,t.refNumber=null,t.type=null,t.typeIndexNo=null,t.description=this.data.description,this.dataList.unshift(t),this.tempData=e.tempData(),this.totalCalculated()},totalCalculated:function(){var e=0,t=0;angular.forEach(this.dataList,function(n){e+=n.debit,t+=n.credit}),this.data.totalDebit=e,this.data.totalCredit=t},save:function(){var e=n.defer(),i=this;return t.saveJournal(JSON.stringify(i.dataList)).success(function(t){i.refresh(),e.resolve(t)}).error(function(t){e.reject(t)}),e.promise},refresh:function(){this.data=e.Data(),this.tempData=e.tempData(),this.dataList=[],this.accflowList=[]}},o};e.$inject=["journalFactory","journalService","$q","$filter","Notification"],angular.module("appModule").factory("journalModel",e)}(),function(){var e=function(e,t){this.loadAccAccounts=function(){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account/find-only-account")},this.loadBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch")},this.currentBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch/current-branch")},this.setAccFlow=function(n){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account/get-account-flow/"+n)},this.saveJournal=function(n){return e.post(t.apiUrl+"/api/care-point/transaction/journal/save",n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("journalService",e)}(),function(){angular.module("appModule").controller("voucherController",["$scope","voucherModel","$timeout","$uibModal","Notification","ConfirmPane",function(e,t,n,i,a,o){e.model=new t,e.ui={},e.model.currentBranch={},e.model.type=null,e.ui.focus=function(e){n(function(){document.querySelectorAll(e)[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus("#account"),e.model.tempData.transactionDate=new Date,e.model.data.transactionDate=new Date,e.model.tempData.branch=e.model.data.branch},e.ui.addData=function(){var t=!0;e.model.tempData.accAccount||(t=!1,a.error("Select a Account to add !")),e.model.tempData.branch||(t=!1,a.error("Select a branch to add !")),e.model.data.transactionDate||(t=!1,a.error("insert a Date to add !")),e.model.tempData.debit||(t=!1,a.error("insert amount to add !")),e.model.data.accAccount||(t=!1,a.error("select a main account to add !")),t&&(e.model.addData(),e.ui.new(),e.ui.focus("#subAccount"))},e.ui.save=function(){var t=!0;e.model.data.accAccount||(t=!1,a.error("select a main account to save !")),0===e.model.saveDataList.length&&(t=!1,a.error("Empty voucher item to save !")),e.model.data.credit||(t=!1,a.error("total value 0.00 !")),"BANK"===e.model.selectAccType.name&&(e.model.data.refNumber||(t=!1,a.error("Cheque No is Empty !")),e.model.data.chequeDate||(t=!1,a.error("plz enter Cheque Date !")),e.model.data.description||(t=!1,a.error("Description is empty !"))),t&&e.model.save().then(function(t){a.success("Payment voucher save Sucess"),e.ui.mode="IDEAL",e.model.data={},e.model.saveDataList=[]})},e.ui.edit=function(t,n){e.model.tempData=n,e.model.saveDataList.splice(t,1),e.model.totalCalculation()},e.ui.delete=function(t){e.model.saveDataList.splice(t,1),e.model.totalCalculation()},e.ui.selectAccType=function(t){e.model.selectAccType=t,e.model.type=t.value,e.ui.focus("#account"),e.model.setClear(),console.log(e.model.selectAccType)},e.ui.focusAdd=function(t){13===t.which&&e.ui.addData()},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("voucherFactory",function(){var e={};return e.Data=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:"PAYMENT VOUCHER",refNumber:null,type:"VOUCHER",typeIndexNo:null,description:"",chequeDate:null,bankReconciliation:!1,reconciliationGroup:0}},e.tempData=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:"PAYMENT VOUCHER",refNumber:null,type:"VOUCHER",typeIndexNo:null,description:"",chequeDate:null,bankReconciliation:!1,reconciliationGroup:0}},e})}(),function(){var e=function(e,t,n,i,a,o){function r(){this.constructor()}return r.prototype={data:{},tempData:{},currentBranch:{},selectAccType:{},accAccountList:[],branchList:[],saveDataList:[],accTypeList:[],constructor:function(){var n=this;n.data=e.Data(),n.tempData=e.tempData(),t.loadBranch().success(function(e){n.branchList=e}),t.currentBranch().success(function(e){n.currentBranch=e,n.data.branch=e.indexNo}),t.loadAccTypes().success(function(e){n.accTypeList=e}),this.loadAccAccount()},loadAccAccount:function(){var e=this;t.loadAccAccounts().success(function(t){e.accAccountList=t})},getValue:function(e){var n=this;t.loadAccBalance(e).success(function(e){n.data.value=e})},branchLable:function(e){var t;return angular.forEach(this.branchList,function(n){if(n.indexNo===e)return void(t=n.branchCode+" - "+n.name)}),t},accountLable:function(e){var t;return angular.forEach(this.accAccountList,function(n){if(n.indexNo===e)return void(t=n.accCode+" - "+n.name)}),t},addData:function(){var t=this;this.tempData.transactionDate=a("date")(this.data.transactionDate,"yyyy-MM-dd"),this.saveDataList.push(this.tempData),this.tempData=e.tempData(),i(function(){t.totalCalculation()},30)},totalCalculation:function(){var e=0;angular.forEach(this.saveDataList,function(t){console.log(t),e+=parseFloat(t.debit)}),this.data.credit=e},save:function(){var e={};e.voucherList=this.saveDataList,this.data.transactionDate=a("date")(this.data.transactionDate,"yyyy-MM-dd"),this.data.chequeDate=a("date")(this.data.chequeDate,"yyyy-MM-dd"),e.voucher=this.data,"BANK"===this.selectAccType.name&&(e.voucher.bankReconciliation=!0),console.log(e);var i=n.defer();return t.saveVoucher(JSON.stringify(e)).success(function(e){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise},setClear:function(){this.tempData=e.tempData(),this.data=e.Data(),this.tempData.transactionDate=new Date,this.data.transactionDate=new Date,this.tempData.branch=this.currentBranch.indexNo,this.data.branch=this.currentBranch.indexNo,this.saveDataList=[]}},r};e.$inject=["voucherFactory","voucherService","$q","$timeout","$filter","Notification"],angular.module("appModule").factory("voucherModel",e)}(),function(){var e=function(e,t){this.loadAccAccounts=function(){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account/find-only-account")},this.currentBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch/current-branch")},this.loadBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch")},this.loadAccBalance=function(n){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account/find-account-value/"+n)},this.loadAccTypes=function(){return e.get(t.apiUrl+"/api/care-point/master/account-type")},this.saveVoucher=function(n){return e.post(t.apiUrl+"/api/care-point/transaction/voucher/save",n)},this.delete=function(n){return e.delete(t.apiUrl+"/api/care-point/account/master/acc-account/delete-account/"+n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("voucherService",e)}(),function(){angular.module("clientModule",["ui.bootstrap","ui-notification"]),angular.module("clientModule").factory("clientFactory",["$http","systemConfig",function(e,t){var n={};return n.lordClientFactory=function(n){var i=t.apiUrl+"/api/care-point/master/client";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,i){n(e)})},n.getNewClientList=function(n){var i=t.apiUrl+"/api/care-point/master/client/get-new-client-list";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,i){n(e)})},n.getCustomerTypes=function(n){var i=t.apiUrl+"/api/care-point/service/zmaster/customer-type";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,i){n(e)})},n.saveClientFactory=function(n,i,a){var o=t.apiUrl+"/api/care-point/master/client/insert-client";e.post(o,n).success(function(e,t,n){i(e)}).error(function(e,t,n){a&&a(e)})},n.deleteClientFactory=function(n,i,a){var o=t.apiUrl+"/api/care-point/master/client/delete-client/"+n;e.delete(o).success(function(e,t,n){i(e)}).error(function(e,t,n){a&&a(e)})},n}]),angular.module("clientModule").controller("clientController",["$scope","$filter","$log","$routeParams","clientFactory","Notification","$timeout",function(e,t,n,i,a,o,r){e.model={},e.model.newClientList=[],e.ui={},e.http={},e.ui.mode=null,e.model.reset=function(){e.model.client={indexNo:null,name:null,address1:null,address2:null,address3:null,mobile:null,branch:null,type:null,nic:null,resident:null,date:null,isNew:!1}},e.validateInput=function(){return!!(e.model.client.name|e.model.client.mobile|null!==e.model.client.type)},e.http.saveClient=function(){e.model.client.branch=1,e.model.client.date||(e.model.client.date=t("date")(new Date,"yyyy-MM-dd")),e.model.client.isNew=!1;var n=e.model.client,i=JSON.stringify(n);console.log(i),a.saveClientFactory(i,function(t){e.model.clientList.push(t),o.success(t.indexNo+" - Client Save Successfully"),e.model.reset()},function(e){o.error(e.message)})},e.http.deleteClient=function(t,n){a.deleteClientFactory(t,function(){e.model.clientList.splice(n,1),o.success(t+" - Client Delete Successfully")},function(e){o.error(e)})},e.ui.save=function(){e.validateInput()?e.http.saveClient():o.error("Please input detail")},e.ui.editNewClient=function(t,n){e.ui.mode="EDIT",e.model.client=t,e.model.newClientList.splice(n,1)},e.ui.customerTypeLable=function(t){var n="";return angular.forEach(e.model.customerTypeList,function(e){if(e.indexNo===t)return void(n=e.indexNo+" - "+e.name)}),n},e.ui.changeTab=function(){e.ui.mode="IDEAL",e.model.client={}},e.ui.focus=function(){r(function(){document.querySelectorAll("#nicText")[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus()},e.ui.edit=function(t,n){e.ui.mode="EDIT",e.model.client=t,e.model.clientList.splice(n,1),e.ui.focus()},e.model.findCustomer=function(t){for(var n=0;n<e.model.clientList.length;n++)if(console.log(t+" : "+e.model.clientList[n].indexNo),e.model.clientList[n].indexNo===parseInt(t))return e.model.clientList[n];e.ui.mode="EDIT"},e.ui.init=function(){e.ui.mode="IDEAL",e.model.reset(),a.lordClientFactory(function(t){e.model.clientList=t}),a.getCustomerTypes(function(t){e.model.customerTypeList=t}),a.getNewClientList(function(t){e.model.newClientList=t});var t=parseInt(i.client);t&&(console.log(t),r(function(){e.model.client=e.model.findCustomer(t),console.log(e.model.client)},2e3))},e.ui.init()}])}(),function(){angular.module("appModule").controller("createAccountController",["$scope","createAccountModel","$timeout","Notification","ConfirmPane",function(e,t,n,i,a){e.model=new t,e.ui={},e.ui.focus=function(){n(function(){document.querySelectorAll("#categoryMain")[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus()},e.ui.edit=function(t,n){e.model.edit(t),e.model.accAccountList.splice(n,1),e.model.data.clearAll=!0,e.ui.mode="EDIT"},e.ui.delete=function(t){t.isAccAccount?a.warningConfirm("DO YOU WANT TO DELECT !").confirm(function(){e.model.delete(t.indexNo).then(function(e){i.success("Delete success !")})}):i.error("Can't delete because there are another transaction with relation  !")},e.ui.save=function(){var t=!0;e.model.data.name||(t=!1,i.error("Insert a name to save !")),e.model.data.accType||(t=!1,i.error("Select Account Type to save !")),e.model.data.subAccountOf||(t=!1,i.error("Select subAccountOf to save !")),t&&(e.ui.mode="IDEAL",e.model.save().then(function(t){i.success("New Account save Sucess"),e.model.data.clearAll&&e.model.clearData()}))},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("createAccountFactory",function(){var e={};return e.Data=function(){return{indexNo:null,name:"",level:null,accCode:null,cop:!1,user:null,accType:"COMMON",isAccAccount:!0,description:null,subAccountOf:null,accMain:null}},e})}(),function(){var e=function(e,t,n,i,a){function o(){this.constructor()}return o.prototype={data:{},accAccountList:[],accTypeList:["COMMON","CASH","BANK"],constructor:function(){this.data=e.Data(),this.loadAccAccount()},loadAccAccount:function(){var e=this;t.loadAccAccounts().success(function(t){e.accAccountList=t})},clearData:function(){this.data=e.Data()},edit:function(e){this.clearData(),this.data=e},delete:function(e){var i=this,o=n.defer();return t.delete(e).success(function(e){i.clearData(),i.loadAccAccount(),o.resolve(e)}).error(function(e){a.error(e),o.reject(e)}),o.promise},accAccountLabel:function(e){var t;return angular.forEach(this.accAccountList,function(n){if(n.indexNo===e)return void(t=n.accCode+" - "+n.name)}),t},save:function(){var e=this;console.log(this.data);var i=n.defer();return t.saveNewAccount(JSON.stringify(e.data)).success(function(t){e.loadAccAccount(),i.resolve()}).error(function(){i.reject()}),i.promise}},o};e.$inject=["createAccountFactory","createAccountService","$q","$filter","Notification"],angular.module("appModule").factory("createAccountModel",e)}(),function(){var e=function(e,t){this.loadAccAccounts=function(){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account")},this.saveNewAccount=function(n){return e.post(t.apiUrl+"/api/care-point/account/master/acc-account/save-new-account",n)},this.delete=function(n){return e.delete(t.apiUrl+"/api/care-point/account/master/acc-account/delete-account/"+n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("createAccountService",e)}(),function(){angular.module("appModule").controller("employeeController",["$scope","employeeModel","systemConfig","$timeout","Notification",function(e,t,n,i,a){e.model=new t,e.ui={},e.imagemodel=[],e.imagemodelX=[],e.ui.imageShowMode1="NotAvalable",e.ui.changeFunction=function(t){"NotAvalable"===e.ui.imageShowMode1&&(e.ui.imageShowMode1="Avalable");for(var n=t.target.files,i=0;i<n.length;i++){var a=n[i];e.imagemodel.push(a);var o=new FileReader;o.onload=e.imageIsLoaded,o.readAsDataURL(a)}},e.imageIsLoaded=function(t){e.$apply(function(){e.imagemodelX.push(t.target.result)})},e.ui.showImg=function(){e.imageModel&&e.ui.showImg},e.ui.saveImage=function(t,i){for(var a=0;a<e.imagemodel.length;a++){var o=n.apiUrl+"/api/care-point/master/employee/upload-image/"+i+"/"+t,r=new FormData;r.append("file",e.imagemodel[a]);var c=new XMLHttpRequest;c.open("POST",o),c.send(r)}},e.ui.clearImage=function(){e.imagemodel=[],e.imagemodelX=[],e.imagemodels={},e.ui.imageShowMode1="NotAvalable"},e.ui.downloardImage=function(t){e.imagemodelX[0]=n.apiUrl+"/api/care-point/master/employee/download-image/"+t.image,e.ui.imageShowMode1="Avalable"},e.ui.save=function(){e.model.saveEmployee().then(function(t){e.ui.saveImage(t.indexNo,t.name),e.model.employeeData={},e.imagemodel=[],e.imagemodelX=[],e.ui.imageShowMode1="NotAvalable",a.success("Save Success...!!")},function(){})},e.ui.deleteEmployee=function(t,n){e.model.deleteEmployee(t,n).then(function(e){a.success("Delete Success...!!")},function(e){a.error(e)})},e.ui.edit=function(t,n){e.model.employeeData=t,e.ui.downloardImage(t),e.model.editEmployee(n)},e.ui.focus=function(){i(function(){document.querySelectorAll("#name")[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus()},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("employeeFactory",function(){var e={};return e.newEmployeeData=function(){return{indexNo:null,name:null,addressLine1:null,addressLine2:null,addressLine3:null,mobile:null,branch:null,type:null,rol:null,image:null,bay:null}},e})}(),function(){var e=function(e,t,n,i){function a(){this.constructor()}return a.prototype={employeeData:{},employeeList:[],constructor:function(){var n=this;n.employeeData=e.newEmployeeData(),t.loadEmolyee().success(function(e){n.employeeList=e,console.log(e)})},saveEmployee:function(){var e=this,i=n.defer();return t.saveEmployee(JSON.stringify(e.employeeData)).success(function(t){e.employeeList.push(t),i.resolve(t)}).error(function(){i.reject()}),i.promise},editEmployee:function(e){this.employeeList.splice(e,1)},deleteEmployee:function(e,i){var a=this,o=n.defer();return t.deleteEmployee(e).success(function(e){a.employeeList.splice(i,1),o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}},a};e.$inject=["employeeFactory","employeeService","$q","$filter"],angular.module("appModule").factory("employeeModel",e)}(),function(){var e=function(e,t){this.loadEmolyee=function(){return e.get(t.apiUrl+"/api/care-point/master/employee")},this.saveEmployee=function(n){return e.post(t.apiUrl+"/api/care-point/master/employee/save-employee",n)},this.deleteEmployee=function(n){return e.delete(t.apiUrl+"/api/care-point/master/employee/delete-employee/"+n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("employeeService",e)}(),function(){"use strict";function e(e){function t(t){t<1||t>n.pager.totalPages||(n.pager=e.GetPager(n.dummyItems.length,t),n.items=n.dummyItems.slice(n.pager.startIndex,n.pager.endIndex+1))}var n=this;n.dummyItems=_.range(1,151),n.pager={},n.setPage=t,function(){n.setPage(1)}()}function t(){function e(e,t,n){t=t||1,n=n||10;var i,a,o=Math.ceil(e/n);o<=10?(i=1,a=o):t<=6?(i=1,a=10):t+4>=o?(i=o-9,a=o):(i=t-5,a=t+4);var r=(t-1)*n;return{totalItems:e,currentPage:t,pageSize:n,totalPages:o,startPage:i,endPage:a,startIndex:r,endIndex:Math.min(r+n-1,e-1),pages:_.range(i,a+1)}}var t={};return t.GetPager=e,t}e.$inject=["PagerService"],
angular.module("app",[]).factory("PagerService",t).controller("ExampleController",e)}(),function(){angular.module("vehicleModule",["ui.bootstrap","ui-notification"]),angular.module("vehicleModule").factory("vehicleFactory",["$http","systemConfig",function(e,t){var n={};return n.findByVehicleNumber=function(n,i){var a=t.apiUrl+"/api/care-point/master/vehicle/find-by-vehicle-no/"+n;e.get(a).success(function(e,t,n){i(e)}).error(function(e,t,n){})},n.loadVehicle=function(n){var i=t.apiUrl+"/api/care-point/master/vehicle";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,n){})},n.lordClient=function(n){var i=t.apiUrl+"/api/care-point/master/client";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,n){})},n.getBrandList=function(n){var i=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-brand-list";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,n){})},n.getModelList=function(n){var i=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-model-list";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,n){})},n.getFuelTypeList=function(n){var i=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-fuel-type-list";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,n){})},n.getNewVehicleList=function(n){var i=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-new-vehicles";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,n){})},n.lordVehicleType=function(n){var i=t.apiUrl+"/api/care-point/master/vehicle-type";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,n){})},n.lordPriceCategory=function(n){var i=t.apiUrl+"/api/care-point/master/priceCategory";e.get(i).success(function(e,t,i){n(e)}).error(function(e,t,i){n(e)})},n.insertVehicle=function(n,i,a){var o=t.apiUrl+"/api/care-point/master/vehicle/insert-detail";e.post(o,n).success(function(e,t,n){i(e)}).error(function(e,t,n){a(e)})},n.deleteVehicle=function(n,i,a){var o=t.apiUrl+"/api/care-point/master/vehicle/delete-detail/"+n;e.delete(o).success(function(e,t,n){i(e)}).error(function(e,t,n){a(e)})},n}]),angular.module("vehicleModule").controller("vehicleController",["$scope","$filter","$log","$timeout","$routeParams","vehicleFactory","Notification",function(e,t,n,i,a,o,r){e.model={},e.ui={},e.http={},e.ui.mode=null,e.model.vehicle={},e.model.vehicleList=[],e.model.brandList=[],e.model.modelList=[],e.model.fuelTypeListList=[],e.model.newVehicleList=[],e.model.searchKeyword=null,e.model.showSuggestions=!1,e.model.searchSuggestions=[],e.model.reset=function(){e.model.vehicle={}},e.ui.focus=function(){i(function(){document.querySelectorAll("#clientText")[0].focus()},10)},e.validateInput=function(){return!!(e.model.vehicle.client&&e.model.vehicle.vehicleNo&&e.model.vehicle.vehicleType&&e.model.vehicle.priceCategory&&e.model.vehicle.type&&e.model.vehicle.brand&&e.model.vehicle.fuelType&&e.model.vehicle.lastMilage&&e.model.vehicle.model)},e.http.deleteVehicle=function(t,n){o.deleteVehicle(t,function(){e.model.vehicleList.splice(n,1),r.success("delete success")},function(e){r.error(e.message)})},e.http.saveVehicle=function(){e.model.vehicle.isNew=!1,angular.isUndefined(e.model.vehicle.date)&&(e.model.vehicle.date=t("date")(new Date,"yyyy-MM-dd"));var n=e.model.vehicle,i=JSON.stringify(n);o.insertVehicle(i,function(t){e.model.vehicleList.push(t),r.success("Successfully Added"),e.model.reset(),e.ui.mode="IDEAL"},function(e){r.error(e.message)})},e.ui.save=function(){e.validateInput()?e.http.saveVehicle():r.error("Please Input Details")},e.clientData=function(t){var n="";return angular.forEach(e.model.clientList,function(e){if(console.log(t),console.log(e.indexNo+" - "+e.name),e.indexNo===parseInt(t))return void(n=e)}),n},e.clientLable=function(t){var n;return angular.forEach(e.model.clientList,function(e){if(e.indexNo===t)return void(n=e.indexNo+" - "+e.name)}),n},e.vehicleTypeLabel=function(t){var n;return angular.forEach(e.model.vehicleTypeList,function(e){if(e.indexNo===t)return void(n=e.indexNo+" - "+e.model)}),n},e.priceCategoryLabel=function(t){var n;return angular.forEach(e.model.priceCategoryList,function(e){if(e.indexNo===t)return void(n=e.name)}),n},e.ui.new=function(){e.ui.mode="NEW",e.model.reset(),e.ui.focus()},e.ui.edit=function(t,n){e.ui.mode="EDIT",e.model.vehicle=t,e.model.vehicleList.splice(n,1)},e.ui.editNewVehicle=function(t,n){e.ui.mode="EDIT",e.model.vehicle=t,e.model.newVehicleList.splice(n,1)},e.model.loadAllVehicles=function(){o.loadVehicle(function(t){e.model.vehicleList=t},function(e){r.error(e.message)})},e.model.findByVehicleNumber=function(){o.findByVehicleNumber(e.model.searchKeyword,function(t){e.model.searchSuggestions=t},function(){e.mode.searchSuggestions=[]})},e.ui.setVehicleData=function(t){e.model.vehicle=t,e.ui.mode="EDIT",e.model.searchKeyword=null},e.model.findVehicle=function(t){e.ui.mode="NEW";for(var n=0;n<e.model.newVehicleList.length;n++)if(e.model.newVehicleList[n].indexNo===parseInt(t))return e.model.newVehicleList[n]},e.ui.init=function(){e.ui.mode="IDEAL",e.model.reset(),o.getNewVehicleList(function(t){e.model.newVehicleList=t}),o.loadVehicle(function(t){e.model.vehicleList=t}),o.lordClient(function(t){e.model.clientList=t}),o.lordVehicleType(function(t){e.model.vehicleTypeList=t}),o.lordPriceCategory(function(t){e.model.priceCategoryList=t}),o.getBrandList(function(t){e.model.brandList=t}),o.getModelList(function(t){e.model.modelList=t}),o.getFuelTypeList(function(t){e.model.fuelTypeList=t}),e.$watch("model.searchKeyword",function(t,n){e.model.showSuggestions=t&&t.length,t&&t.length>=2&&e.model.findByVehicleNumber()}),e.$watch("model.vehicle",function(t){t&&(e.model.showSuggestions=!e.model.vehicle)});var t=parseInt(a.vehicle);t&&(i(function(){e.model.vehicle=e.model.findVehicle(t)},2e3),console.log(t))},e.ui.init()}])}(),function(){angular.module("appModule").controller("ReportViewerController",["$scope","$filter","$sce","reportViewerModel","ReportViewerService",function(e,t,n,i,a){e.model={},e.newModel=new i,e.model.currentReportGroup={},e.model.currentReport={},e.model.currentReport.parameterValues={},e.ui={},e.report="#",e.model.currentReport.parameterValues.FROM_DATE=t("date")(new Date,"dd-MM-yyyy"),e.model.currentReport.parameterValues.TO_DATE=t("date")(new Date,"dd-MM-yyyy"),e.ui.selectReportGroup=function(t){e.model.currentReportGroup=t},e.ui.selectReport=function(t){e.model.currentReport.report=t,a.listParameters(t).success(function(t){e.model.currentReport.parameters=t}),e.activeTabIndex=1,e.ui.status="PENDING"},e.ui.viewCurrentReport=function(){e.model.currentReport.report&&(e.ui.status="LOADING",a.viewReport(e.model.currentReport.report,e.model.currentReport.parameters,e.model.currentReport.parameterValues).success(function(t){e.ui.status="LOADED";var i=new Blob([t],{type:"application/pdf"}),a=URL.createObjectURL(i);e.content=n.trustAsResourceUrl(a)}))},e.ui.isParameterAvailable=function(t){return void 0!==e.model.currentReport.parameters&&e.model.currentReport.parameters.indexOf(t)>=0},e.init=function(){a.listReports().success(function(t){e.model.reports=t}),e.ui.status="PENDING"},e.init()}])}(),function(){angular.module("appModule").factory("reportViewerModel",["ReportViewerService",function(e){function t(){this.constructor()}return t.prototype={bayList:[],vehicleList:[],vehicleCategoryList:[],clientList:[],supplierList:[],branchList:[],itemTypeList:[],itemCateoryList:[],employeeList:[],categoryList:[],itemList:[],constructor:function(){var t=this;e.getBayList().success(function(e){t.bayList=e}),e.getVehicleList().success(function(e){t.vehicleList=e}),e.getVehicleCategoryList().success(function(e){t.vehicleCategoryList=e}),e.getClientList().success(function(e){t.clientList=e}),e.getSupplierList().success(function(e){t.supplierList=e}),e.getBranchList().success(function(e){t.branchList=e}),e.getItemCateoryList().success(function(e){t.itemCateoryList=e}),e.getEmployeeList().success(function(e){t.employeeList=e}),e.getCategoryList().success(function(e){t.categoryList=e}),e.getItemList().success(function(e){t.itemList=e}),this.itemTypeList=[{indexNo:1,name:"STOCK"},{indexNo:2,name:"NON STOCK"}]},bayLable:function(e){var t="";return angular.forEach(this.bayList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},vehicleLable:function(e){var t="";return angular.forEach(this.vehicleList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.vehicleNo)}),t},vehicleCategoryLable:function(e){var t="";return angular.forEach(this.vehicleCategoryList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},categoryLable:function(e){var t="";return angular.forEach(this.categoryList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},itemLable:function(e){var t="";return angular.forEach(this.itemList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},clientLable:function(e){var t="";return angular.forEach(this.clientList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},supplierLable:function(e){var t="";return angular.forEach(this.supplierList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},branchLable:function(e){var t="";return angular.forEach(this.branchList,function(n){if(n.indexNo===parseInt(e))return void(t=n.branchCode+" - "+n.name)}),t},itemTypeLable:function(e){var t="";return angular.forEach(this.itemTypeList,function(n){if(n.name===e)return void(t=n.indexNo+" - "+n.name)}),t},itemCateoryLable:function(e){var t="";return angular.forEach(this.itemCateoryList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},employeeLable:function(e){var t="";return angular.forEach(this.employeeList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t}},t}])}(),function(){angular.module("appModule").service("ReportViewerService",["$http","systemConfig",function(e,t){this.listReports=function(){return e.get(t.apiUrl+"/api/v1/report/report-viewer/list")},this.listParameters=function(n){return e.post(t.apiUrl+"/api/v1/report/report-viewer/report-parameters",JSON.stringify(n))},this.getReportUrl=function(e,n,i){var a=t.apiUrl+"/api/v1/report/report-viewer/report",o=btoa(e.fileName);return a=a+"?action="+o,angular.forEach(i,function(e,t){a=a+"&"+t+"="+e}),a},this.viewReport=function(t,n,i){return e.get(this.getReportUrl(t,n,i),{responseType:"arraybuffer"})},this.getPdfBytes=function(n){console.log(n);var i={client:"K W Chaminda"};return e.post(t.apiUrl+"/api/v1/report/report-viewer/report",JSON.stringify(i),{responseType:"arraybuffer"})},this.getBayList=function(){return e.get(t.apiUrl+"/api/care-point/master/bay/get-bays-by-branch-is-view")},this.getVehicleList=function(){return e.get(t.apiUrl+"/api/care-point/master/vehicle")},this.getVehicleCategoryList=function(){return e.get(t.apiUrl+"/api/care-point/master/priceCategory")},this.getClientList=function(){return e.get(t.apiUrl+"/api/care-point/master/client")},this.getSupplierList=function(){return e.get(t.apiUrl+"/api/care-point/master/supplier")},this.getBranchList=function(){return e.get(t.apiUrl+"/api/care-point/master/branch")},this.getItemCateoryList=function(){return e.get(t.apiUrl+"/api/care-point/master/item-category")},this.getCategoryList=function(){return e.get(t.apiUrl+"/api/care-point/master/category")},this.getItemList=function(){return e.get(t.apiUrl+"/api/care-point/master/item")},this.getEmployeeList=function(){return e.get(t.apiUrl+"/api/care-point/master/employee")}}])}(),function(){angular.module("vehicleEntranceModule",["ui.bootstrap","ui-notification"]),angular.module("vehicleEntranceModule").controller("vehicleEntranceController",["$scope","vehicleEntranceModel",function(e,t){e.model=new t}])}(),function(){angular.module("appModule").factory("vehicleEntranceFactory",function(){var e={};return e.newData=function(){return{indexNo:null,vehicleNo:null,year:null,engineNo:null,chasisNo:null,insuranceExpiryDate:null,revenueExpiryDate:null,lastMilage:null,nextMilage:null,colour:null,client:null,vehicleType:null,priceCategory:null,type:null,model:null,brand:null,fuelType:null}},e})}(),function(){var e=function(e,t,n,i){function a(){this.constructor()}return a.prototype={data:{},constructor:function(){this.data=t.newData()}},a};e.$inject=["vehicleEntranceService","vehicleEntranceFactory","$q","$filter"],angular.module("appModule").factory("vehicleEntranceModel",e)}(),function(){var e=function(e,t){};e.$inject=["$http","systemConfig"],angular.module("appModule").service("vehicleEntranceService",e)}(),function(){angular.module("appModule").controller("appController",["$scope","$cookies","$rootScope","$filter","$location","SecurityService",function(e,t,n,i,a,o){e.hamburgerOpen=!0,n.$watch("layout.loading",function(){e.routeLoading=n.layout.loading}),e.userRoles=n.userRoles,e.homepageUrls=[],e.currentPageName="",e.loginUser="",e.currentBranch="",e.loginUser=t.get("nick-name"),e.currentBranch=t.get("branch-name"),e.date=i("date")(new Date,"yyyy-MM-dd"),angular.forEach(e.userRoles,function(t){t.homepageUrl&&e.homepageUrls.push({name:t.name,url:t.homepageUrl})}),e.toggleHamburger=function(t){e.hamburgerOpen=!e.hamburgerOpen,e.currentPageName=t,e.hamburgerOpen?$timeout(function(){angular.element(document.querySelector(".side-bar-left")).css("display","none")},600):angular.element(document.querySelector(".side-bar-left")).css("display","flex")},e.isHomepage=function(){return e.loginUser=t.get("nick-name"),e.currentBranch=t.get("branch-name"),"/"===a.path()},e.logout=function(){o.logout().success(function(){a.path("/login")})}}])}(),function(){angular.module("appModule").controller("LoginController",["$scope","$cookies","$location","$timeout","SecurityService",function(e,t,n,i,a){e.ui={},e.model={},e.ui.focus=null,e.model.data={username:null,password:null},e.ui.onFocus=function(t){e.ui.focus=t},e.ui.onBlur=function(){e.ui.focus=null},e.ui.login=function(o){13===(o?o.keyCode||o.which:13)&&e.model.data.username&&e.model.data.password&&a.login(e.model.data).success(function(e,i,a){n.path("/"),t.put("nick-name",e.principal.nickName),t.put("branch-index-no",e.principal.branch),t.put("branch-name",e.principal.branchName)}).error(function(e,t){var n=angular.element(document.querySelectorAll(".login-form")[0]);n.addClass("login-failed"),i(function(){n.removeClass("login-failed")},1e3)})}}])}(),function(){angular.module("appModule").service("ConfirmPane",["$uibModal","$q",function(e,t){var n,i=function(e,t,i){function a(n,a){switch(this.modalInstance=n,this.timeout=a,this.message=t,this.title=i,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Confirm":this.title;break;case"info":this.optionPaneClass="option-pane-info",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Information":this.title;break;case"success":this.optionPaneClass="option-pane-success",this.optionPaneIcon="glyphicon-ok",this.title=void 0===this.title?"Success":this.title;break;case"warning":this.optionPaneClass="option-pane-warning",this.optionPaneIcon="glyphicon-warning-sign",this.title=void 0===this.title?"Warning":this.title;break;case"danger":this.optionPaneClass="option-pane-danger",this.optionPaneIcon="glyphicon-remove",this.title=void 0===this.title?"Danger":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return a.prototype={confirm:function(){var e=this;this.timeout(function(){e.modalInstance.close(),n.resolve()},250)},discard:function(){var e=this;this.timeout(function(){e.modalInstance.close(),n.reject()},250)}},["$uibModalInstance","$timeout",a]};this.confirm=function(a,o,r){return n=t.defer(),e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/confirm-pane.html",controller:i(a,o,r),controllerAs:"$ctrl",size:"md"}),{confirm:function(e){return n.promise.then(e,null),this},discard:function(e){return n.promise.then(null,e),this}}},this.primaryConfirm=function(e,t){return this.confirm("primary",e,t)},this.infoConfirm=function(e,t){return this.confirm("info",e,t)},this.successConfirm=function(e,t){return this.confirm("success",e,t)},this.warningConfirm=function(e,t){return this.confirm("warning",e,t)},this.dangerConfirm=function(e,t){return this.confirm("danger",e,t)},this.defaultConfirm=function(e,t){return this.confirm("default",e,t)}}])}(),function(){angular.module("appModule").service("InputPane",["$uibModal","$q","Notification",function(e,t,n){var i,a=function(e,t){function a(n,i){switch(this.modalInstance=n,this.timeout=i,this.type=e,this.title=t,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Confirm":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return a.prototype={confirm:function(e){var t=this;this.timeout(function(){angular.isUndefined(e)?n.error("please input text"):(t.modalInstance.close(),i.resolve(e))},250)},discard:function(){var e=this;this.timeout(function(){e.modalInstance.close(),i.reject()},250)}},["$uibModalInstance","$timeout",a]};this.confirm=function(n,o){return i=t.defer(),e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/input-option-pane.html",controller:a(n,o),controllerAs:"$ctrl",size:"md"}),{confirm:function(e){return i.promise.then(e,null),this},discard:function(e){return i.promise.then(null,e),this}}},this.primaryInput=function(e){return this.confirm("primary",e)},this.defaultInput=function(e){return this.confirm("default",e)}}])}(),function(){angular.module("appModule").service("optionPane",["$uibModal",function(e){var t=function(e,t,n){function i(i,a){switch(this.modalInstance=i,this.timeout=a,this.message=t,this.title=n,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Message":this.title;break;case"info":this.optionPaneClass="option-pane-info",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Information":this.title;break;case"success":this.optionPaneClass="option-pane-success",this.optionPaneIcon="glyphicon-ok",this.title=void 0===this.title?"Success":this.title;break;case"warning":this.optionPaneClass="option-pane-warning",this.optionPaneIcon="glyphicon-warning-sign",this.title=void 0===this.title?"Warning":this.title;break;case"danger":this.optionPaneClass="option-pane-danger",this.optionPaneIcon="glyphicon-remove",this.title=void 0===this.title?"Danger":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return i.prototype={continue:function(){var e=this;this.timeout(function(){e.modalInstance.close()},250)}},["$uibModalInstance","$timeout",i]};this.message=function(n,i,a){e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/option-pane.html",controller:t(n,i,a),controllerAs:"$ctrl",size:"md"})},this.primaryMessage=function(e,t){this.message("primary",e,t)},this.infoMessage=function(e,t){this.message("info",e,t)},this.successMessage=function(e,t){this.message("success",e,t)},this.warningMessage=function(e,t){this.message("warning",e,t)},this.dangerMessage=function(e,t){this.message("danger",e,t)},this.defaultMessage=function(e,t){this.message("default",e,t)}}])}(),function(){angular.module("appModule").service("ProgressPane",["$uibModal","$timeout",function(e,t){var n=function(e,t){function n(n,i){switch(this.modalInstance=n,this.timeout=i,this.title=t,this.title=void 0===this.title?"Loading...":this.title,e){case"primary":this.progressClass="progress-bar-primary",this.optionPaneClass="option-pane-primary";break;case"info":this.progressClass="progress-bar-info",this.optionPaneClass="option-pane-info";break;case"success":this.progressClass="progress-bar-success",this.optionPaneClass="option-pane-success";break;case"warning":this.progressClass="progress-bar-warning",this.optionPaneClass="option-pane-warning";break;case"danger":this.progressClass="progress-bar-danger",this.optionPaneClass="option-pane-danger";break;default:this.progressClass="progress-bar-default",this.optionPaneClass="option-pane-default"}}return n.prototype={continue:function(){var e=this;this.timeout(function(){e.modalInstance.close()},250)}},["$uibModalInstance","$timeout",n]};this.progress=function(i,a,o){var r=e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/progress-pane.html",controller:n(i,a),controllerAs:"$ctrl",size:"md"});return{close:function(){t(function(){r.close()},1e3)}}},this.primaryProgress=function(e){return this.progress("primary",e)},this.infoProgress=function(e){return this.progress("info",e)},this.successProgress=function(e){return this.progress("success",e)},this.warningProgress=function(e){return this.progress("warning",e)},this.dangerProgress=function(e){return this.progress("danger",e)},this.defaultProgress=function(e){return this.progress("default",e)}}])}(),angular.module("appModule").service("ngDraggable",[function(){this.inputEvent=function(e){return angular.isDefined(e.touches)?e.touches[0]:angular.isDefined(e.originalEvent)&&angular.isDefined(e.originalEvent.touches)?e.originalEvent.touches[0]:e}}]),angular.module("appModule").directive("ngDrag",["$rootScope","$parse","$document","$window","ngDraggable",function(e,t,n,i,a){return{restrict:"A",link:function(o,r,c){o.value=c.ngDrag;var l,u,s,d,p,f,m,h,g=!1,v="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,y="touchmove mousemove",b=o.$id,D=null,C=null,L=!1,w=null,M=t(c.ngDragSuccess)||null,A=!angular.isDefined(c.allowTransform)||o.$eval(c.allowTransform),$=t(c.ngDragData),N=angular.noop,x=function(e){e&&(o.$on("$destroy",E),o.$watch(c.ngDrag,S),o.$watch(c.ngCenterAnchor,I),h?h.on("touchstart mousedown",U):r.on("touchstart mousedown",U),v||"img"!=r[0].nodeName.toLowerCase()||r.on("mousedown",function(){return!1}))},E=function(e){x(!1)},S=function(e,t){L=e},I=function(e,t){angular.isDefined(e)&&(g=e||"true")},P=function(e){return angular.isDefined(angular.element(e.target).attr("ng-cancel-drag"))},U=function(e){L&&(P(e)||"mousedown"==e.type&&0!=e.button||(v?(R(),w=setTimeout(function(){R(),k(e)},100),n.on(y,R),n.on("touchend mouseup",R)):k(e)))},R=function(){clearTimeout(w),n.off(y,R),n.off("touchend mouseup",R)},k=function(t){L&&(t.preventDefault(),l=r[0].getBoundingClientRect(),C=A?l:{left:document.body.scrollLeft,top:document.body.scrollTop},r.centerX=r[0].offsetWidth/2,r.centerY=r[0].offsetHeight/2,u=a.inputEvent(t).pageX,s=a.inputEvent(t).pageY,f=u-l.left,m=s-l.top,g?(d=u-r.centerX-i.pageXOffset,p=s-r.centerY-i.pageYOffset):(d=u-f-i.pageXOffset,p=s-m-i.pageYOffset),n.on(y,T),n.on("touchend mouseup",B),N=e.$on("draggable:_triggerHandlerMove",function(e,t){T(t)}))},T=function(t){L&&(t.preventDefault(),r.hasClass("dragging")||(D=$(o),r.addClass("dragging"),e.$broadcast("draggable:start",{x:u,y:s,tx:d,ty:p,event:t,element:r,data:D})),u=a.inputEvent(t).pageX,s=a.inputEvent(t).pageY,g?(d=u-r.centerX-C.left,p=s-r.centerY-C.top):(d=u-f-C.left,p=s-m-C.top),F(d,p),e.$broadcast("draggable:move",{x:u,y:s,tx:d,ty:p,event:t,element:r,data:D,uid:b}))},B=function(t){L&&(t.preventDefault(),e.$broadcast("draggable:end",{x:u,y:s,tx:d,ty:p,event:t,element:r,data:D,callback:V,uid:b}),r.removeClass("dragging"),r.parent().find(".drag-enter").removeClass("drag-enter"),O(),n.off(y,T),n.off("touchend mouseup",B),N())},V=function(e){M&&o.$apply(function(){M(o,{$data:D,$event:e})})},O=function(){A?r.css({transform:"","z-index":"","-webkit-transform":"","-ms-transform":""}):r.css({position:"",top:"",left:""})},F=function(e,t){A?r.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","z-index":99999,"-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+t+")"}):r.css({left:e+"px",top:t+"px",position:"fixed"})};!function(){if(r.attr("draggable","false"),r[0].querySelectorAll)var e=angular.element(r[0].querySelectorAll("[ng-drag-handle]"));else var e=r.find("[ng-drag-handle]");e.length&&(h=e),x(!0)}()}}}]).directive("ngDrop",["$parse","$timeout","$window","$document","ngDraggable",function(e,t,n,i,a){return{restrict:"A",link:function(n,a,o){n.value=o.ngDrop,n.isTouching=!1;var r=null,c=n.$id,l=!1,u=e(o.ngDropSuccess),s=e(o.ngDragStart),d=e(o.ngDragStop),p=e(o.ngDragMove),f=function(e){e&&(n.$watch(o.ngDrop,h),n.$on("$destroy",m),n.$on("draggable:start",g),n.$on("draggable:move",v),n.$on("draggable:end",y))},m=function(e){f(!1)},h=function(e,t){l=e},g=function(e,i){l&&(b(i.x,i.y,i.element),o.ngDragStart&&t(function(){s(n,{$data:i.data,$event:i})}))},v=function(e,i){l&&(b(i.x,i.y,i.element),o.ngDragMove&&t(function(){p(n,{$data:i.data,$event:i})}))},y=function(e,i){if(!l||c===i.uid)return void D(!1,i.element);b(i.x,i.y,i.element)&&(i.callback&&i.callback(i),o.ngDropSuccess&&t(function(){u(n,{$data:i.data,$event:i,$target:n.$eval(n.value)})})),o.ngDragStop&&t(function(){d(n,{$data:i.data,$event:i})}),D(!1,i.element)},b=function(e,t,i){var o=C(e,t);return n.isTouching=o,o&&(r=a),D(o,i),o},D=function(e,t){e?(a.addClass("drag-enter"),t.addClass("drag-over")):r==a&&(r=null,a.removeClass("drag-enter"),t.removeClass("drag-over"))},C=function(e,t){var n=a[0].getBoundingClientRect();return e-=i[0].body.scrollLeft+i[0].documentElement.scrollLeft,t-=i[0].body.scrollTop+i[0].documentElement.scrollTop,e>=n.left&&e<=n.right&&t<=n.bottom&&t>=n.top};!function(){f(!0)}()}}}]).directive("ngDragClone",["$parse","$timeout","ngDraggable",function(e,t,n){return{restrict:"A",link:function(e,t,n){var i,a=!0,o=null;e.clonedData={};var r=function(t){t&&(e.$on("draggable:start",l),e.$on("draggable:move",u),e.$on("draggable:end",s),c())},c=function(){i.off("mousedown touchstart touchmove touchend touchcancel",f),i.on("mousedown touchstart touchmove touchend touchcancel",f)},l=function(n,i,r){a=!0,angular.isDefined(i.data.allowClone)&&(a=i.data.allowClone),a&&(e.$apply(function(){e.clonedData=i.data}),t.css("width",i.element[0].offsetWidth),t.css("height",i.element[0].offsetHeight),p(i.tx,i.ty)),o=t[0].getBoundingClientRect()},u=function(e,t){a&&(_tx=t.tx+o.left,_ty=t.ty+o.top,p(_tx,_ty))},s=function(e,t){a&&d()},d=function(){t.css({left:0,top:0,position:"fixed","z-index":-1,visibility:"hidden"})},p=function(e,n){t.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+n+", 0, 1)","z-index":99999,visibility:"visible","-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+n+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+n+")"})},f=function(e){var t=e;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};!function(){i=t.find("img"),t.attr("draggable","false"),i.attr("draggable","false"),d(),r(!0)}()}}}]).directive("ngPreventDrag",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(e,t,n){var i=function(e){e&&t.on("mousedown touchstart touchmove touchend touchcancel",a)},a=function(e){var t=e.originalEvent;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};!function(){t.attr("draggable","false"),i(!0)}()}}}]).directive("ngCancelDrag",[function(){return{restrict:"A",link:function(e,t,n){t.find("*").attr("ng-cancel-drag","ng-cancel-drag")}}}]).directive("ngDragScroll",["$window","$interval","$timeout","$document","$rootScope",function(e,t,n,i,a){return{restrict:"A",link:function(t,n,o){var r=null,c={verticalScroll:o.verticalScroll||!0,horizontalScroll:o.horizontalScroll||!0,activationDistance:o.activationDistance||75,scrollDistance:o.scrollDistance||15},l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),u=!1,s=function(){function t(e){var n=Array.prototype.slice.call(arguments);u&&l(function(){a.$apply(function(){e.apply(null,n),t(e)})})}u=!0,t(function(){if(r){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),l=0,u=0;if(c.horizontalScroll&&(r.clientX<c.activationDistance?l=-c.scrollDistance:r.clientX>t-c.activationDistance&&(l=c.scrollDistance)),c.verticalScroll&&(r.clientY<c.activationDistance?u=-c.scrollDistance:r.clientY>o-c.activationDistance&&(u=c.scrollDistance)),0!==l||0!==u){var s=e.pageXOffset||i[0].documentElement.scrollLeft,d=e.pageYOffset||i[0].documentElement.scrollTop,p=n.css("transform");n.css("transform","initial"),e.scrollBy(l,u);var f=(e.pageXOffset||i[0].documentElement.scrollLeft)-s,m=(e.pageYOffset||i[0].documentElement.scrollTop)-d;n.css("transform",p),r.pageX+=f,r.pageY+=m,a.$emit("draggable:_triggerHandlerMove",r)}}})},d=function(){u=!1};t.$on("draggable:start",function(e,t){t.element[0]===n[0]&&(u||s())}),t.$on("draggable:end",function(e,t){t.element[0]===n[0]&&u&&d()}),t.$on("draggable:move",function(e,t){t.element[0]===n[0]&&(r=t.event)})}}}]),function(){angular.module("appModule").directive("btn",["rippleService",function(e){return{restrict:"C",link:e.ripple}}]).directive("fab",["rippleService",function(e){return{restrict:"C",link:e.ripple,scope:{show:"=fabShow"}}}]),angular.module("appModule").service("rippleService",["$timeout",function(e){this.ripple=function(t,n,i){void 0===t.show&&n.bind("click",function(t){t.preventDefault();var n=angular.element("<div/>"),i=this.getBoundingClientRect(),a=t.pageX-i.left,o=t.pageY-i.top;n.addClass("ripple-effect"),n.css("height",this.offsetWidth+"px"),n.css("width",this.offsetWidth+"px"),n.css({top:o-this.offsetWidth/2+"px",left:a-this.offsetWidth/2+"px"}),angular.element(this).append(n),e(function(){n.remove()},1e3)}),t.$watch("show",function(e,t){void 0!==e&&(n.hasClass("show")||n.hasClass("hide")?a(e):e?n.addClass("show"):n.addClass("hide"))});var a=function(t){n.removeClass("show"),n.removeClass("hide"),t?(n.addClass("show-start"),e(function(){n.addClass("show-active"),e(function(){n.addClass("show"),n.removeClass("show-active"),n.removeClass("show-start")},225)},250)):(n.addClass("hide-start"),n.addClass("hide-active"),e(function(){n.addClass("hide"),n.removeClass("hide-active"),n.removeClass("hide-start")},225))}}}])}(),function(){angular.module("appModule").filter("fixedLength",function(){return function(e,t){return(1e4+""+e).slice(-t)}})}(),function(){angular.module("appModule").directive("input",["focusService",function(e){return{restrict:"E",link:e.focus}}]),angular.module("appModule").service("focusService",function(){this.focus=function(e,t,n){t.bind("keypress",function(e){if(13===(e.keyCode||e.which)){e.preventDefault();for(var t=document.querySelectorAll("input, select, button"),n=e.srcElement,i=!1,a=t.length,o=0;o<a;o++){var r=t[o];if(i){if("none"!==r.style.display&&!1===r.disabled){r.focus();break}}else r===n&&(i=!0)}}})}})}(),angular.module("appModule").directive("grid",["gridService",function(e){return{restrict:"A",link:e.grid}}]),angular.module("appModule").service("gridService",function(){this.grid=function(e,t,n){var i={x:12,y:12},a=angular.fromJson(n.grid),o=a.x,r=a.y,c=a.w,l=a.h,u=a.color;t.css("position","absolute"),t.css("display","block"),t.css("width",c/i.x*100+"%"),t.css("height",l/i.y*100+"%"),t.css("left",o/i.x*100+"%"),t.css("top",r/i.y*100+"%"),t.css("background-color",u)}}),function(){
angular.module("appModule").directive("smartInput",function(){function e(e,t){if(null!==e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.setSelectionRange?(e.setSelectionRange(t,t),e.focus()):e.focus()}return{require:"?ngModel",restrict:"A",link:function(t,n,i,a){n.bind("focus",function(){try{this.selectionStart=0,this.selectionEnd=this.value.length+1}catch(e){this.select()}}),n.bind("blur",function(){o()}),a.$parsers.push(function(t){var o=n.val(),r=i.smartInput;if(void 0!==r&&""!==r||(r="text"),"decimal"===r||"integer"===r){for(;"0"===o.charAt(0);)o=o.substr(1);var c;"decimal"===r?(o=o.replace(/[^\d.\',']/g,""),c=parseInt(i.decimalPrecision),isNaN(c)&&(c=2)):"integer"===r&&(o=o.replace(/[^\d\',']/g,""),c=-1);var l=o.indexOf(".");l>=0&&(o=o.slice(0,l+1+c));var u=o.split("."),s=u[0],d=u[1];if(s=s.replace(/[^\d]/g,""),s.length>3)for(var p=Math.floor(s.length/3);p>0;){var f=s.indexOf(",");f<0&&(f=s.length),f-3>0&&(s=s.slice(0,f-3)+","+s.slice(f-3)),p--}d=void 0===d?"":"."+d;var m=s+d;m!==t&&(a.$setViewValue(m),a.$render());var h=parseFloat(m.replace(/[\',']/g,""));return isNaN(h)?0:h}if("date"===r){for(;"0"===o.charAt(0);)o=o.substr(1);o=o.replace(/[^\d\'#'\-]/g,""),console.log(o+"---");var g=o.split("-"),v=g[0],y=g[1],b=g[2];console.log(v+"+"+y+"+"+b);var D=-1;void 0===v?(v="#".repeat(4),D=0):(v=v.replace(/[^\d]/g,""),D=v.length,v=v.substr(0,4),v+="#".repeat(4-v.length)),void 0===y?(y="#".repeat(2),D=4===D?5:D):(y=y.replace(/[^\d]/g,""),parseInt(y)>12&&(y=""),D=4===D?5+y.length:D,y=y.substr(0,2),y+="#".repeat(2-y.length)),void 0===b?(b="#".repeat(2),D=7===D?8:D):(b=b.replace(/[^\d]/g,""),b>new Date(parseInt(v),parseInt(y),0).getDate()&&(b=""),D=7===D?8+b.length:D,b=b.substr(0,2),b+="#".repeat(2-b.length));var m=v+"-"+y+"-"+b;return m!==o&&(a.$setViewValue(m),a.$render(),e(n[0],D)),m.indexOf("#")>0?null:new Date(m)}});var o=function(){var e=n.val(),t=i.smartInput;if(void 0!==t&&""!==t||(t="text"),"decimal"===t){var a=parseInt(i.inputDecimal);isNaN(a)&&(a=2);var o=e.split("."),r=o[0],c=o[1];void 0!==r&&""!==r||(r="0"),void 0===c?c="0".repeat(a):c+="0".repeat(a-c.length),n.val(r+"."+c)}else"integer"===t?(void 0!==e&&""!==e||(e="0"),n.val(e)):"date"===t&&(void 0!==e&&""!==e||(e="####-##-##"),n.val(e))};n.ready(function(){o()})}}})}(),function(){angular.module("appModule").directive("inputHint",["InputHintService","$document","$compile",function(e,t,n){return{restrict:"A",scope:!0,link:e.inputHint}}]),angular.module("appModule").service("InputHintService",["$document","$compile",function(e,t){this.inputHint=function(n,i,a){var o=t('<div ng-class="tipClass">{{ text }}<div class="input-hint-arrow"></div></div>')(n);n.tipClass=["input-hint"],n.text=a.inputHint,a.tooltipPosition?n.tipClass.push("input-hint-"+a.tooltipPosition):n.tipClass.push("input-hint-down"),a.$set("placeholder",n.text),e.find("body").append(o),i.bind("focus",function(e){o.addClass("input-hint-show"),o=angular.element(o);var t=e.target.getBoundingClientRect(),n={},i=o[0].offsetHeight,a=o[0].offsetWidth,r=t.width||t.right-t.left,c=t.height||t.bottom-t.top;o.hasClass("input-hint-down")?(n.top=t.top+c+5,n.left=t.left-a/2+r/2):(n.top=t.top-i-5,n.left=t.left-a/2+r/2),o.css({top:n.top+"px",left:n.left+"px"})}),i.bind("blur",function(e){o.removeClass("input-hint-show")})}}])}(),function(){angular.module("appModule").service("ModalDialog",["$uibModal",function(e){this.showModel=function(t,n,i){e.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:n,controller:i,size:t})},this.modalOpen=function(e,t,n){return this.showModel(e,t,n)}}])}(),angular.module("appModule").directive("rangeSpinner",function(){return{restrict:"AE",scope:{rangeMin:"@",rangeStep:"@",rangeMax:"@",rangeDefaultValue:"@",acceptDecimal:"@",rangeModel:"=",nameOfField:"@",idOfField:"@",rangeDecimalPrecision:"@"},templateUrl:"tmpl/rangeSpinner.html",controller:["$scope","$element","$attrs",function(e,t,n){if(e.minRange=+(angular.isDefined(n.rangeMin)?n.rangeMin:0),e.step=+(angular.isDefined(n.rangeStep)?n.rangeStep:0),e.maxRange=+(angular.isDefined(n.rangeMax)?n.rangeMax:100),e.rangeDecPrec=+(angular.isDefined(n.rangeDecimalPrecision)?n.rangeDecimalPrecision:1),angular.isDefined(e.rangeDefaultValue)&&!isNaN(e.rangeDefaultValue)){var i=parseFloat(e.rangeDefaultValue);i>=e.minRange&&i<=e.maxRange?e.rangeModel=parseFloat(e.rangeDefaultValue).toFixed(e.rangeDecPrec):e.rangeModel=parseFloat(e.minRange).toFixed(e.rangeDecPrec)}e.rangePlusFunc=function(){angular.isUndefined(e.rangeModel)||isNaN(e.rangeModel)||""===e.rangeModel?e.rangeModel=e.minRange:e.rangeModel<e.maxRange&&("true"==e.acceptDecimal?e.rangeModel=parseFloat(parseFloat(e.rangeModel)+parseFloat(e.step)).toFixed(e.rangeDecPrec):e.rangeModel=parseInt(parseInt(e.rangeModel)+parseInt(e.step)))},e.rangeMinusFunc=function(){angular.isUndefined(e.rangeModel)||isNaN(e.rangeModel)||""===e.rangeModel?e.rangeModel=e.minRange:e.rangeModel>e.minRange&&("true"==e.acceptDecimal?e.rangeModel=parseFloat(parseFloat(e.rangeModel)-parseFloat(e.step)).toFixed(e.rangeDecPrec):e.rangeModel=parseInt(parseInt(e.rangeModel)-parseInt(e.step)))},e.$watch(function(){return e.rangeModel},function(t,n){if(angular.isDefined(e.rangeModel))if(isNaN(e.rangeModel))e.rangeModel=n;else if(e.rangeModel>e.maxRange)e.rangeModel=e.maxRange;else if(e.rangeModel<e.minRange)e.rangeModel=e.minRange;else if("true"==e.acceptDecimal){var i=String(e.rangeModel).split(".");i.length>1&&i[1].length>e.rangeDecPrec&&(e.rangeModel=parseFloat(e.rangeModel).toFixed(e.rangeDecPrec))}else e.rangeModel=parseInt(e.rangeModel)},!0)}]}}).run(["$templateCache",function(e){e.put("tmpl/rangeSpinner.html",'<div class="input-group" style="width: 80px;">                         <span class="input-group-btn"> \t\t\t\t<button class="btn btn-primary" type="button" ng-click="rangeMinusFunc()" style="background: #9DA5BE !important;color: white! important;font-weight:700;">-</button> \t\t\t</span>                                 <input class="form-control" style="width: 50px;margin-top: 7px;font-weight:700;text-align: center;" name="{{nameOfField}}" id="{{idOfField}}" type="text" range-min="{{rangeMin}}" range-step="{{rangeStep}}" range-max="{{rangeMax}}" ng-model="rangeModel" required read-only/>  \t\t\t<span class="input-group-btn">                                 <button class="btn btn-primary" type="button" ng-click="rangePlusFunc()" style="background: #9DA5BE !important;color: white! important;font-weight:700;">+</button>\t\t\t</span> \t\t\t</div>')}]),function(){angular.module("appModule").service("optionPane",["$uibModal",function(e){var t=function(e,t,n){function i(i,a){switch(this.modalInstance=i,this.timeout=a,this.message=t,this.title=n,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Message":this.title;break;case"info":this.optionPaneClass="option-pane-info",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Information":this.title;break;case"success":this.optionPaneClass="option-pane-success",this.optionPaneIcon="glyphicon-ok",this.title=void 0===this.title?"Success":this.title;break;case"warning":this.optionPaneClass="option-pane-warning",this.optionPaneIcon="glyphicon-warning-sign",this.title=void 0===this.title?"Warning":this.title;break;case"danger":this.optionPaneClass="option-pane-danger",this.optionPaneIcon="glyphicon-remove",this.title=void 0===this.title?"Danger":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return i.prototype={continue:function(){var e=this;this.timeout(function(){e.modalInstance.close()},250)}},["$uibModalInstance","$timeout",i]};this.message=function(n,i,a){e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/option-pane/option-pane.html",controller:t(n,i,a),controllerAs:"$ctrl",size:"md"})},this.primaryMessage=function(e,t){this.message("primary",e,t)},this.infoMessage=function(e,t){this.message("info",e,t)},this.successMessage=function(e,t){this.message("success",e,t)},this.warningMessage=function(e,t){this.message("warning",e,t)},this.dangerMessage=function(e,t){this.message("danger",e,t)},this.defaultMessage=function(e,t){this.message("default",e,t)}}])}(),function(){angular.module("appModule").filter("unique",function(){return function(e,t){var n=[],i=[];return angular.forEach(e,function(e){var a=e[t];-1===i.indexOf(a)&&(i.push(a),n.push(e))}),n}})}(),function(){angular.module("appModule").run(["$rootScope","$location","$route","$timeout",function(e,t,n,i){e.config={},e.config.app_url=t.url(),e.config.app_path=t.path(),e.layout={},e.layout.loading=!1,e.$on("$routeChangeStart",function(t,n,a){n&&"/login"!==n.$$route.originalPath&&a&&"/login"!==a.$$route.originalPath&&i(function(){e.layout.loading=!0})}),e.$on("$routeChangeSuccess",function(){i(function(){e.layout.loading=!1},700)}),e.$on("$routeChangeError",function(){e.layout.loading=!1})}])}(),function(){angular.module("appModule").factory("XSRFInterceptor",["$cookies","$log",function(e,t){return{request:function(t){var n=e.get("XSRF-TOKEN");return n&&(t.headers["X-XSRF-TOKEN"]=n),t}}}]),angular.module("appModule").config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.withCredentials=!0,e.interceptors.push("XSRFInterceptor")}]),angular.module("appModule").run(["$rootScope","$location","$cookies","SecurityService",function(e,t,n,i){e.$on("$routeChangeStart",function(e,n,a){i.ping().success(function(e,n,i){"/login"===t.path()&&t.path("/")}).error(function(e,n){t.path("/login")})})}])}(),function(){var e=function(e,t){this.login=function(n){var i=n?{authorization:"Basic "+btoa(n.username+":"+n.password)}:{};return t.get(e.apiUrl+"/security/login",{headers:i})},this.logout=function(){return t.get(e.apiUrl+"/security/logout")},this.ping=function(){var n={"X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Origin":"*"};return t.get(e.apiUrl+"/api/v1/system/environment/ping",{headers:n})}};e.$inject=["systemConfig","$http"],angular.module("appModule").service("SecurityService",e)}();