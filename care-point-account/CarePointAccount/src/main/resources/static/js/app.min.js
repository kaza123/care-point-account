!function(){angular.module("appModule",["ngRoute","ngCookies","ui.bootstrap","clientModule","vehicleModule","app","vehicleEntranceModule"]),angular.module("appModule").constant("systemConfig",{apiUrl:"localhost"===location.hostname?"http://localhost:8090":location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}),angular.module("appModule").config(["$routeProvider",function(e){e.when("/",{redirectTo:"/account/home"}).when("/login",{templateUrl:"app/system/login/login.html",controller:"LoginController"}).when("/account/home",{templateUrl:"app/service/vehicle-entrance/vehicle-entrance.html",controller:"vehicleEntranceController"}).when("/reports/general/report-viewer",{templateUrl:"app/reports/report-viewer/report-viewer.html",controller:"ReportViewerController"}).when("/master/create-account",{templateUrl:"app/master/create-account/create-account.html",controller:"createAccountController"}).when("/setting/account-settings",{templateUrl:"app/master/account-settings/account-settings.html"}).when("/transaction/write-cheque",{templateUrl:"app/accounts/cheque/write-cheque.html"}).when("/transaction/voucher",{templateUrl:"app/accounts/voucher/voucher.html",controller:"voucherController"}).when("/transaction/fund-transfer",{templateUrl:"app/accounts/fund-transfer/fund-transfer.html"}).when("/transaction/deposit",{templateUrl:"app/accounts/deposit/deposit.html"}).when("/transaction/return-cheque",{templateUrl:"app/accounts/return-cheque/return-cheque.html"}).when("/transaction/payment-to-diposit",{templateUrl:"app/accounts/payment-to-deposit/payment-to-deposit.html"}).when("/transaction/journal",{templateUrl:"app/accounts/journal/journal.html",controller:"journalController"}).otherwise({redirectTo:"/"})}])}(),function(){angular.module("appModule").controller("journalController",["$scope","journalModel","$timeout","Notification","ConfirmPane",function(e,t,n,o,i){e.model=new t,e.ui={},e.ui.focus=function(e){n(function(){document.querySelectorAll(e)[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus("#date"),e.model.new()},e.ui.save=function(){var t=!0;e.model.data.transactionDate||(t=!1,o.error("insert date to save !")),e.model.data.description||(t=!1,o.error("insert description to save !")),e.model.dataList.length||(t=!1,o.error("insert data to save !")),e.model.data.totalDebit!==e.model.data.totalCredit&&0!==e.model.data.totalCredit&&(t=!1,o.error("total debit and credit amount is deference!")),t&&i.successConfirm("DO YOU WANT TO SAVE !").confirm(function(){e.model.save().then(function(t){o.success(t+" data records save success !"),e.ui.mode="IDEAL"})})},e.ui.addData=function(){var t=!0;e.model.data.transactionDate||(t=!1,o.error("insert date to add !")),e.model.data.description||(t=!1,o.error("insert description to add !")),e.model.tempData.debit||e.model.tempData.credit||(t=!1,o.error("insert debit or credit amount to add !")),e.model.tempData.debit&&e.model.tempData.credit&&(t=!1,o.error("invalied debit and credit amount !")),e.model.tempData.accAccount||(t=!1,o.error("select a account name to add !")),e.model.tempData.branch||(t=!1,o.error("select a branch name to add !")),t&&(e.model.add(),e.ui.focus("#accMain"))},e.ui.focusAddFunction=function(t){13===(t?t.keyCode||t.which:13)&&e.ui.addData()},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("journalFactory",function(){var e={};return e.Data=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:null,refNumber:null,type:null,typeIndexNo:null,description:null}},e.tempData=function(){return{accMain:null,accountName:null,branch:null,debit:0,credit:0,category1:{indexNo:null,name:null,orderNo:1},category2:{indexNo:null,name:null,orderNo:1},cop:!1,description:null,date:null}},e})}(),function(){var e=function(e,t,n,o,i){function a(){this.constructor()}return a.prototype={data:{},tempData:{},currentBranch:{},dataList:[],accCategory1List:[],accCategory2List:[],accCategory3List:[],accCategoryMainList:[],accAccountList:[],branchList:[],constructor:function(){var n=this;n.data=e.Data(),n.tempData=e.tempData(),t.loadAccCategory1().success(function(e){n.accCategory1List=e}),t.loadAccCategory2().success(function(e){n.accCategory2List=e}),t.loadAccCategory3().success(function(e){n.accCategory3List=e}),t.loadAccCategoryMain().success(function(e){n.accCategoryMainList=e}),t.loadAccAccounts().success(function(e){n.accAccountList=[];for(var t=0;t<e.length;t++)e[t].accMainIndex=e[t].accMain.indexNo,n.accAccountList.push(e[t])}),t.loadBranch().success(function(e){n.branchList=e}),t.currentBranch().success(function(e){n.currentBranch=e})},new:function(){this.data.transactionDate=new Date,this.tempData.branch=this.currentBranch.indexNo},accMainLable:function(e){var t;return angular.forEach(this.accCategoryMainList,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accountLable:function(e){var t;return angular.forEach(this.accAccountList,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory1Lable:function(e){var t;return angular.forEach(this.accCategory1List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory2Lable:function(e){var t;return angular.forEach(this.accCategory2List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},branchLable:function(e){var t;return angular.forEach(this.branchList,function(n){if(n.indexNo===e)return void(t=n.branchCode+" - "+n.name)}),t},setMainAccount:function(e){var t=this;angular.forEach(this.accAccountList,function(n){if(n.indexNo===parseInt(e))return t.tempData.accMain=n.accMainIndex,t.tempData.category1=n.accCategory1.indexNo,t.tempData.category2=n.accCategory2.indexNo,t.tempData.cop=n.cop,void console.log(t.tempData.accMain)})},add:function(){var t={};t.indexNo=null,t.transactionDate=o("date")(new Date(this.data.transactionDate),"yyyy-MM-dd"),t.currentDate=null,t.time=null,t.branch=this.tempData.branch,t.currentBranch=null,t.user=null,t.debit=this.tempData.debit,t.credit=this.tempData.credit,t.accAccount=this.tempData.accAccount,t.formName=null,t.refNumber=null,t.type=null,t.typeIndexNo=null,t.description=this.data.description,this.dataList.unshift(t),this.tempData=e.tempData(),this.totalCalculated()},totalCalculated:function(){var e=0,t=0;angular.forEach(this.dataList,function(n){e+=n.debit,t+=n.credit}),this.data.totalDebit=e,this.data.totalCredit=t},save:function(){var e=n.defer(),o=this;return t.saveJournal(JSON.stringify(o.dataList)).success(function(t){o.refresh(),e.resolve(t)}).error(function(t){e.reject(t)}),e.promise},refresh:function(){this.data=e.Data(),this.tempData=e.tempData(),this.dataList=[]}},a};e.$inject=["journalFactory","journalService","$q","$filter","Notification"],angular.module("appModule").factory("journalModel",e)}(),function(){var e=function(e,t){this.loadAccCategoryMain=function(){return e.get(t.apiUrl+"/api/care-point/account/master/categoryMain")},this.loadAccCategory1=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category1")},this.loadAccCategory2=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category2")},this.loadAccCategory3=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category3")},this.loadAccAccounts=function(){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account")},this.loadBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch")},this.currentBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch/current-branch")},this.saveJournal=function(n){return e.post(t.apiUrl+"/api/care-point/transaction/journal/save",n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("journalService",e)}(),function(){angular.module("appModule").controller("voucherController",["$scope","voucherModel","$timeout","Notification","ConfirmPane",function(e,t,n,o,i){e.model=new t,e.ui={},e.model.currentBranch={},e.ui.focus=function(e){n(function(){document.querySelectorAll(e)[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus("#account"),e.model.tempData.transactionDate=new Date,e.model.tempData.branch=e.model.data.branch},e.ui.addData=function(){var t=!0;e.model.tempData.accAccount||(t=!1,o.error("Select a Account to add !")),e.model.tempData.branch||(t=!1,o.error("Select a branch to add !")),e.model.tempData.transactionDate||(t=!1,o.error("insert a Date to add !")),e.model.tempData.debit||(t=!1,o.error("insert amount to add !")),e.model.data.accAccount||(t=!1,o.error("select a main account to add !")),t&&(e.model.addData(),e.ui.new())},e.ui.save=function(){var t=!0;e.model.data.accAccount||(t=!1,o.error("select a main account to save !")),0===e.model.saveDataList.length&&(t=!1,o.error("Empty voucher item to save !")),e.model.data.credit||(t=!1,o.error("total value 0.00 !")),t&&(e.ui.mode="IDEAL",e.model.save().then(function(t){o.success("Payment voucher save Sucess"),e.model.data={},e.model.saveDataList=[]}))},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("voucherFactory",function(){var e={};return e.Data=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:"PAYMENT VOUCHER",refNumber:null,type:"VOUCHER",typeIndexNo:null,description:"PAYMENT VOUCHER"}},e.tempData=function(){return{indexNo:null,transactionDate:null,currentDate:null,time:null,branch:null,currentBranch:null,user:null,debit:0,credit:0,accAccount:null,formName:"PAYMENT VOUCHER",refNumber:null,type:"VOUCHER",typeIndexNo:null,description:""}},e})}(),function(){var e=function(e,t,n,o,i,a){function r(){this.constructor()}return r.prototype={data:{},tempData:{},currentBranch:{},accCategory1List:[],accCategory2List:[],AccCategory3List:[],accCategoryMainList:[],accAccountList:[],branchList:[],saveDataList:[],constructor:function(){var n=this;n.data=e.Data(),n.tempData=e.tempData(),t.loadAccCategory1().success(function(e){n.accCategory1List=e}),t.loadAccCategory2().success(function(e){n.accCategory2List=e}),t.loadAccCategory3().success(function(e){n.accCategory3List=e}),t.loadAccCategoryMain().success(function(e){n.accCategoryMainList=e}),t.loadBranch().success(function(e){n.branchList=e}),t.currentBranch().success(function(e){n.data.branch=e.indexNo}),this.loadAccAccount()},loadAccAccount:function(){var e=this;t.loadAccAccounts().success(function(t){e.accAccountList=t})},getValue:function(e){var n=this;t.loadAccBalance(e).success(function(e){n.data.value=e})},accMainLable:function(e){var t;return angular.forEach(this.accCategoryMainList,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory1Lable:function(e){var t;return angular.forEach(this.accCategory1List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory2Lable:function(e){var t;return angular.forEach(this.accCategory2List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory3Lable:function(e){var t;return angular.forEach(this.accCategory3List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},branchLable:function(e){var t;return angular.forEach(this.branchList,function(n){if(n.indexNo===e)return void(t=n.branchCode+" - "+n.name)}),t},accountLable:function(e){var t;return angular.forEach(this.accAccountList,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},addData:function(){var t=this;this.tempData.transactionDate=i("date")(this.tempData.transactionDate,"yyyy-MM-dd"),this.saveDataList.push(this.tempData),this.tempData=e.tempData(),o(function(){t.totalCalculation()},30)},totalCalculation:function(){var e=0;angular.forEach(this.saveDataList,function(t){console.log(t),e+=parseFloat(t.debit)}),this.data.credit=e},save:function(){var e={};e.voucherList=this.saveDataList,e.voucher=this.data,console.log(e);var o=n.defer();return t.saveVoucher(JSON.stringify(e)).success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}},r};e.$inject=["voucherFactory","voucherService","$q","$timeout","$filter","Notification"],angular.module("appModule").factory("voucherModel",e)}(),function(){var e=function(e,t){this.loadAccCategoryMain=function(){return e.get(t.apiUrl+"/api/care-point/account/master/categoryMain")},this.loadAccCategory1=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category1")},this.loadAccCategory2=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category2")},this.loadAccCategory3=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category3")},this.loadAccAccounts=function(){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account")},this.currentBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch/current-branch")},this.loadBranch=function(){return e.get(t.apiUrl+"/api/care-point/master/branch")},this.loadAccBalance=function(n){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account/find-account-value/"+n)},this.saveVoucher=function(n){return e.post(t.apiUrl+"/api/care-point/transaction/voucher/save",n)},this.delete=function(n){return e.delete(t.apiUrl+"/api/care-point/account/master/acc-account/delete-account/"+n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("voucherService",e)}(),function(){angular.module("clientModule",["ui.bootstrap","ui-notification"]),angular.module("clientModule").factory("clientFactory",["$http","systemConfig",function(e,t){var n={};return n.lordClientFactory=function(n){var o=t.apiUrl+"/api/care-point/master/client";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,o){n(e)})},n.getNewClientList=function(n){var o=t.apiUrl+"/api/care-point/master/client/get-new-client-list";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,o){n(e)})},n.getCustomerTypes=function(n){var o=t.apiUrl+"/api/care-point/service/zmaster/customer-type";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,o){n(e)})},n.saveClientFactory=function(n,o,i){var a=t.apiUrl+"/api/care-point/master/client/insert-client";e.post(a,n).success(function(e,t,n){o(e)}).error(function(e,t,n){i&&i(e)})},n.deleteClientFactory=function(n,o,i){var a=t.apiUrl+"/api/care-point/master/client/delete-client/"+n;e.delete(a).success(function(e,t,n){o(e)}).error(function(e,t,n){i&&i(e)})},n}]),angular.module("clientModule").controller("clientController",["$scope","$filter","$log","$routeParams","clientFactory","Notification","$timeout",function(e,t,n,o,i,a,r){e.model={},e.model.newClientList=[],e.ui={},e.http={},e.ui.mode=null,e.model.reset=function(){e.model.client={indexNo:null,name:null,address1:null,address2:null,address3:null,mobile:null,branch:null,type:null,nic:null,resident:null,date:null,isNew:!1}},e.validateInput=function(){return!!(e.model.client.name|e.model.client.mobile|null!==e.model.client.type)},e.http.saveClient=function(){e.model.client.branch=1,e.model.client.date||(e.model.client.date=t("date")(new Date,"yyyy-MM-dd")),e.model.client.isNew=!1;var n=e.model.client,o=JSON.stringify(n);console.log(o),i.saveClientFactory(o,function(t){e.model.clientList.push(t),a.success(t.indexNo+" - Client Save Successfully"),e.model.reset()},function(e){a.error(e.message)})},e.http.deleteClient=function(t,n){i.deleteClientFactory(t,function(){e.model.clientList.splice(n,1),a.success(t+" - Client Delete Successfully")},function(e){a.error(e)})},e.ui.save=function(){e.validateInput()?e.http.saveClient():a.error("Please input detail")},e.ui.editNewClient=function(t,n){e.ui.mode="EDIT",e.model.client=t,e.model.newClientList.splice(n,1)},e.ui.customerTypeLable=function(t){var n="";return angular.forEach(e.model.customerTypeList,function(e){if(e.indexNo===t)return void(n=e.indexNo+" - "+e.name)}),n},e.ui.changeTab=function(){e.ui.mode="IDEAL",e.model.client={}},e.ui.focus=function(){r(function(){document.querySelectorAll("#nicText")[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus()},e.ui.edit=function(t,n){e.ui.mode="EDIT",e.model.client=t,e.model.clientList.splice(n,1),e.ui.focus()},e.model.findCustomer=function(t){for(var n=0;n<e.model.clientList.length;n++)if(console.log(t+" : "+e.model.clientList[n].indexNo),e.model.clientList[n].indexNo===parseInt(t))return e.model.clientList[n];e.ui.mode="EDIT"},e.ui.init=function(){e.ui.mode="IDEAL",e.model.reset(),i.lordClientFactory(function(t){e.model.clientList=t}),i.getCustomerTypes(function(t){e.model.customerTypeList=t}),i.getNewClientList(function(t){e.model.newClientList=t});var t=parseInt(o.client);t&&(console.log(t),r(function(){e.model.client=e.model.findCustomer(t),console.log(e.model.client)},2e3))},e.ui.init()}])}(),function(){angular.module("appModule").controller("createAccountController",["$scope","createAccountModel","$timeout","Notification","ConfirmPane",function(e,t,n,o,i){e.model=new t,e.ui={},e.ui.focus=function(){n(function(){document.querySelectorAll("#categoryMain")[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus()},e.ui.edit=function(t,n){e.model.edit(t),e.model.accAccountList.splice(n,1),e.model.data.clearAll=!0,e.ui.mode="NEW"},e.ui.delete=function(t,n){i.warningConfirm("DO YOU WANT TO DELECT !").confirm(function(){e.model.delete(t,n).then(function(e){o.success("Delete success !")})})},e.ui.save=function(){console.log(e.model.data.accCategory1),console.log(e.model.data.accCategory1),console.log(e.model.data.accCategory1.indexNo);var t=!0;e.model.data.accMain.indexNo||(t=!1,o.error("Select a main category to save !")),angular.isUndefined(e.model.data.accCategory1.indexNo)?e.model.data.accCategory1||(t=!1,o.error("Select a category1 to save !")):e.model.data.accCategory1.indexNo||(t=!1,o.error("Select a category1 to save !")),angular.isUndefined(e.model.data.accCategory2.indexNo)?e.model.data.accCategory2||(t=!1,o.error("Select a category2 to save !")):e.model.data.accCategory2.indexNo||(t=!1,o.error("Select a category2 to save !")),e.model.data.name||(t=!1,o.error("Type account name to save !")),t&&(e.ui.mode="IDEAL",e.model.save().then(function(t){o.success("New Account save Sucess"),e.model.data.clearAll?e.model.clearData():e.model.data=t}))},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("createAccountFactory",function(){var e={};return e.Data=function(){return{indexNo:null,name:"",cop:!1,user:1,accCategory1:{indexNo:null,name:"",orderNo:0},accCategory2:{indexNo:null,name:"",orderNo:0},accCategory3:{indexNo:null,name:"",orderNo:0},accMain:{indexNo:null,name:"",increment:"",isExpence:!1,isIncome:!1,isBalanceSheet:!1}}},e.search=function(){return{accountName:null,category1:{indexNo:null,name:"",orderNo:0},category2:{indexNo:null,name:"",orderNo:0},category3:{indexNo:null,name:"",orderNo:0},main:{indexNo:null,name:"",increment:"",isExpence:!1,isIncome:!1,isBalanceSheet:!1}}},e})}(),function(){var e=function(e,t,n,o,i){function a(){this.constructor()}return a.prototype={data:{},search:{},accCategory1List:[],accCategory2List:[],AccCategory3List:[],accCategoryMainList:[],accAccountList:[],constructor:function(){var n=this;n.data=e.Data(),n.search=e.search(),t.loadAccCategory1().success(function(e){n.accCategory1List=e}),t.loadAccCategory2().success(function(e){n.accCategory2List=e}),t.loadAccCategory3().success(function(e){n.accCategory3List=e}),t.loadAccCategoryMain().success(function(e){n.accCategoryMainList=e}),this.loadAccAccount()},loadAccAccount:function(){var e=this;t.loadAccAccounts().success(function(t){e.accAccountList=t})},refresh:function(){var e=this;t.loadAccCategory2().success(function(t){e.accCategory2List=t}),t.loadAccCategory3().success(function(t){e.accCategory3List=t}),t.loadAccCategoryMain().success(function(t){e.accCategoryMainList=t}),t.loadAccAccounts().success(function(t){e.accAccountList=t})},clearData:function(){this.data=e.Data()},edit:function(e){this.clearData(),this.data=e},delete:function(e,o){var a=this,r=n.defer();return t.delete(e).success(function(e){a.clearData(),a.loadAccAccount(),r.resolve(e)}).error(function(e){i.error(e.massage),r.reject(e)}),r.promise},accMainLable:function(e){var t;return angular.forEach(this.accCategoryMainList,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory1Lable:function(e){var t;return angular.forEach(this.accCategory1List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory2Lable:function(e){var t;return angular.forEach(this.accCategory2List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},accCategory3Lable:function(e){var t;return angular.forEach(this.accCategory3List,function(n){if(n.indexNo===e)return void(t=n.indexNo+" - "+n.name)}),t},save:function(){var e=this;if(angular.isUndefined(this.data.accCategory1.indexNo)){var o=this.data.accCategory1;e.data.accCategory1={},this.data.accCategory1.indexNo=null,this.data.accCategory1.name=o,this.data.accCategory1.orderNo=1}if(angular.isUndefined(this.data.accCategory2.indexNo)){var o=this.data.accCategory2;e.data.accCategory2={},this.data.accCategory2.indexNo=null,this.data.accCategory2.name=o,this.data.accCategory2.orderNo=1}if(angular.isUndefined(this.data.accCategory3.indexNo)){var o=this.data.accCategory3;e.data.accCategory3={},this.data.accCategory3.indexNo=null,this.data.accCategory3.name=o,this.data.accCategory3.orderNo=1}console.log(this.data);var i=n.defer();return t.saveNewAccount(JSON.stringify(e.data)).success(function(t){e.refresh(),i.resolve(t)}).error(function(e){i.reject(e)}),i.promise}},a};e.$inject=["createAccountFactory","createAccountService","$q","$filter","Notification"],angular.module("appModule").factory("createAccountModel",e)}(),function(){var e=function(e,t){this.loadAccCategoryMain=function(){return e.get(t.apiUrl+"/api/care-point/account/master/categoryMain")},this.loadAccCategory1=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category1")},this.loadAccCategory2=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category2")},this.loadAccCategory3=function(){return e.get(t.apiUrl+"/api/care-point/account/master/category3")},this.loadAccAccounts=function(){return e.get(t.apiUrl+"/api/care-point/account/master/acc-account")},this.saveNewAccount=function(n){return e.post(t.apiUrl+"/api/care-point/account/master/acc-account/save-new-account",n)},this.delete=function(n){return e.delete(t.apiUrl+"/api/care-point/account/master/acc-account/delete-account/"+n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("createAccountService",e)}(),function(){angular.module("appModule").controller("employeeController",["$scope","employeeModel","systemConfig","$timeout","Notification",function(e,t,n,o,i){e.model=new t,e.ui={},e.imagemodel=[],e.imagemodelX=[],e.ui.imageShowMode1="NotAvalable",e.ui.changeFunction=function(t){"NotAvalable"===e.ui.imageShowMode1&&(e.ui.imageShowMode1="Avalable");for(var n=t.target.files,o=0;o<n.length;o++){var i=n[o];e.imagemodel.push(i);var a=new FileReader;a.onload=e.imageIsLoaded,a.readAsDataURL(i)}},e.imageIsLoaded=function(t){e.$apply(function(){e.imagemodelX.push(t.target.result)})},e.ui.showImg=function(){e.imageModel&&e.ui.showImg},e.ui.saveImage=function(t,o){for(var i=0;i<e.imagemodel.length;i++){var a=n.apiUrl+"/api/care-point/master/employee/upload-image/"+o+"/"+t,r=new FormData;r.append("file",e.imagemodel[i]);var c=new XMLHttpRequest;c.open("POST",a),c.send(r)}},e.ui.clearImage=function(){e.imagemodel=[],e.imagemodelX=[],e.imagemodels={},e.ui.imageShowMode1="NotAvalable"},e.ui.downloardImage=function(t){e.imagemodelX[0]=n.apiUrl+"/api/care-point/master/employee/download-image/"+t.image,e.ui.imageShowMode1="Avalable"},e.ui.save=function(){e.model.saveEmployee().then(function(t){e.ui.saveImage(t.indexNo,t.name),e.model.employeeData={},e.imagemodel=[],e.imagemodelX=[],e.ui.imageShowMode1="NotAvalable",i.success("Save Success...!!")},function(){})},e.ui.deleteEmployee=function(t,n){e.model.deleteEmployee(t,n).then(function(e){i.success("Delete Success...!!")},function(e){i.error(e)})},e.ui.edit=function(t,n){e.model.employeeData=t,e.ui.downloardImage(t),e.model.editEmployee(n)},e.ui.focus=function(){o(function(){document.querySelectorAll("#name")[0].focus()},10)},e.ui.new=function(){e.ui.mode="NEW",e.ui.focus()},e.ui.init=function(){e.ui.mode="IDEAL"},e.ui.init()}])}(),function(){angular.module("appModule").factory("employeeFactory",function(){var e={};return e.newEmployeeData=function(){return{indexNo:null,name:null,addressLine1:null,addressLine2:null,addressLine3:null,mobile:null,branch:null,type:null,rol:null,image:null,bay:null}},e})}(),function(){var e=function(e,t,n,o){function i(){this.constructor()}return i.prototype={employeeData:{},employeeList:[],constructor:function(){var n=this;n.employeeData=e.newEmployeeData(),t.loadEmolyee().success(function(e){n.employeeList=e,console.log(e)})},saveEmployee:function(){var e=this,o=n.defer();return t.saveEmployee(JSON.stringify(e.employeeData)).success(function(t){e.employeeList.push(t),o.resolve(t)}).error(function(){o.reject()}),o.promise},editEmployee:function(e){this.employeeList.splice(e,1)},deleteEmployee:function(e,o){var i=this,a=n.defer();return t.deleteEmployee(e).success(function(e){i.employeeList.splice(o,1),a.resolve(e)}).error(function(e){a.reject(e)}),a.promise}},i};e.$inject=["employeeFactory","employeeService","$q","$filter"],angular.module("appModule").factory("employeeModel",e)}(),function(){var e=function(e,t){this.loadEmolyee=function(){return e.get(t.apiUrl+"/api/care-point/master/employee")},this.saveEmployee=function(n){return e.post(t.apiUrl+"/api/care-point/master/employee/save-employee",n)},this.deleteEmployee=function(n){return e.delete(t.apiUrl+"/api/care-point/master/employee/delete-employee/"+n)}};e.$inject=["$http","systemConfig"],angular.module("appModule").service("employeeService",e)}(),function(){"use strict";function e(e){function t(t){t<1||t>n.pager.totalPages||(n.pager=e.GetPager(n.dummyItems.length,t),n.items=n.dummyItems.slice(n.pager.startIndex,n.pager.endIndex+1))}var n=this;n.dummyItems=_.range(1,151),n.pager={},n.setPage=t,function(){n.setPage(1)}()}function t(){function e(e,t,n){t=t||1,n=n||10;var o,i,a=Math.ceil(e/n);a<=10?(o=1,i=a):t<=6?(o=1,i=10):t+4>=a?(o=a-9,i=a):(o=t-5,i=t+4);var r=(t-1)*n;return{totalItems:e,currentPage:t,pageSize:n,totalPages:a,startPage:o,endPage:i,startIndex:r,endIndex:Math.min(r+n-1,e-1),pages:_.range(o,i+1)}}var t={};return t.GetPager=e,t}e.$inject=["PagerService"],angular.module("app",[]).factory("PagerService",t).controller("ExampleController",e)}(),function(){angular.module("vehicleModule",["ui.bootstrap","ui-notification"]),angular.module("vehicleModule").factory("vehicleFactory",["$http","systemConfig",function(e,t){var n={};return n.findByVehicleNumber=function(n,o){var i=t.apiUrl+"/api/care-point/master/vehicle/find-by-vehicle-no/"+n;e.get(i).success(function(e,t,n){o(e)}).error(function(e,t,n){})},n.loadVehicle=function(n){var o=t.apiUrl+"/api/care-point/master/vehicle";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,n){})},n.lordClient=function(n){var o=t.apiUrl+"/api/care-point/master/client";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,n){})},n.getBrandList=function(n){var o=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-brand-list";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,n){})},n.getModelList=function(n){var o=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-model-list";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,n){})},n.getFuelTypeList=function(n){var o=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-fuel-type-list";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,n){})},n.getNewVehicleList=function(n){var o=t.apiUrl+"/api/care-point/service/zmaster/vehicle/get-new-vehicles";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,n){})},n.lordVehicleType=function(n){var o=t.apiUrl+"/api/care-point/master/vehicle-type";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,n){})},n.lordPriceCategory=function(n){var o=t.apiUrl+"/api/care-point/master/priceCategory";e.get(o).success(function(e,t,o){n(e)}).error(function(e,t,o){n(e)})},n.insertVehicle=function(n,o,i){var a=t.apiUrl+"/api/care-point/master/vehicle/insert-detail";e.post(a,n).success(function(e,t,n){o(e)}).error(function(e,t,n){i(e)})},n.deleteVehicle=function(n,o,i){var a=t.apiUrl+"/api/care-point/master/vehicle/delete-detail/"+n;e.delete(a).success(function(e,t,n){o(e)}).error(function(e,t,n){i(e)})},n}]),angular.module("vehicleModule").controller("vehicleController",["$scope","$filter","$log","$timeout","$routeParams","vehicleFactory","Notification",function(e,t,n,o,i,a,r){e.model={},e.ui={},e.http={},e.ui.mode=null,e.model.vehicle={},e.model.vehicleList=[],e.model.brandList=[],e.model.modelList=[],e.model.fuelTypeListList=[],e.model.newVehicleList=[],e.model.searchKeyword=null,e.model.showSuggestions=!1,e.model.searchSuggestions=[],e.model.reset=function(){e.model.vehicle={}},e.ui.focus=function(){o(function(){document.querySelectorAll("#clientText")[0].focus()},10)},e.validateInput=function(){return!!(e.model.vehicle.client&&e.model.vehicle.vehicleNo&&e.model.vehicle.vehicleType&&e.model.vehicle.priceCategory&&e.model.vehicle.type&&e.model.vehicle.brand&&e.model.vehicle.fuelType&&e.model.vehicle.lastMilage&&e.model.vehicle.model)},e.http.deleteVehicle=function(t,n){a.deleteVehicle(t,function(){e.model.vehicleList.splice(n,1),r.success("delete success")},function(e){r.error(e.message)})},e.http.saveVehicle=function(){e.model.vehicle.isNew=!1,angular.isUndefined(e.model.vehicle.date)&&(e.model.vehicle.date=t("date")(new Date,"yyyy-MM-dd"));var n=e.model.vehicle,o=JSON.stringify(n);a.insertVehicle(o,function(t){e.model.vehicleList.push(t),r.success("Successfully Added"),e.model.reset(),e.ui.mode="IDEAL"},function(e){r.error(e.message)})},e.ui.save=function(){e.validateInput()?e.http.saveVehicle():r.error("Please Input Details")},e.clientData=function(t){var n="";return angular.forEach(e.model.clientList,function(e){if(console.log(t),console.log(e.indexNo+" - "+e.name),e.indexNo===parseInt(t))return void(n=e)}),n},e.clientLable=function(t){var n;return angular.forEach(e.model.clientList,function(e){if(e.indexNo===t)return void(n=e.indexNo+" - "+e.name)}),n},e.vehicleTypeLabel=function(t){var n;return angular.forEach(e.model.vehicleTypeList,function(e){if(e.indexNo===t)return void(n=e.indexNo+" - "+e.model)}),n},e.priceCategoryLabel=function(t){var n;return angular.forEach(e.model.priceCategoryList,function(e){if(e.indexNo===t)return void(n=e.name)}),n},e.ui.new=function(){e.ui.mode="NEW",e.model.reset(),e.ui.focus()},e.ui.edit=function(t,n){e.ui.mode="EDIT",e.model.vehicle=t,e.model.vehicleList.splice(n,1)},e.ui.editNewVehicle=function(t,n){e.ui.mode="EDIT",e.model.vehicle=t,e.model.newVehicleList.splice(n,1)},e.model.loadAllVehicles=function(){a.loadVehicle(function(t){e.model.vehicleList=t},function(e){r.error(e.message)})},e.model.findByVehicleNumber=function(){a.findByVehicleNumber(e.model.searchKeyword,function(t){e.model.searchSuggestions=t},function(){e.mode.searchSuggestions=[]})},e.ui.setVehicleData=function(t){e.model.vehicle=t,e.ui.mode="EDIT",e.model.searchKeyword=null},e.model.findVehicle=function(t){e.ui.mode="NEW";for(var n=0;n<e.model.newVehicleList.length;n++)if(e.model.newVehicleList[n].indexNo===parseInt(t))return e.model.newVehicleList[n]},e.ui.init=function(){e.ui.mode="IDEAL",e.model.reset(),a.getNewVehicleList(function(t){e.model.newVehicleList=t}),a.loadVehicle(function(t){e.model.vehicleList=t}),a.lordClient(function(t){e.model.clientList=t}),a.lordVehicleType(function(t){e.model.vehicleTypeList=t}),a.lordPriceCategory(function(t){e.model.priceCategoryList=t}),a.getBrandList(function(t){
e.model.brandList=t}),a.getModelList(function(t){e.model.modelList=t}),a.getFuelTypeList(function(t){e.model.fuelTypeList=t}),e.$watch("model.searchKeyword",function(t,n){e.model.showSuggestions=t&&t.length,t&&t.length>=2&&e.model.findByVehicleNumber()}),e.$watch("model.vehicle",function(t){t&&(e.model.showSuggestions=!e.model.vehicle)});var t=parseInt(i.vehicle);t&&(o(function(){e.model.vehicle=e.model.findVehicle(t)},2e3),console.log(t))},e.ui.init()}])}(),function(){angular.module("appModule").controller("ReportViewerController",["$scope","$filter","$sce","reportViewerModel","ReportViewerService",function(e,t,n,o,i){e.model={},e.newModel=new o,e.model.currentReportGroup={},e.model.currentReport={},e.model.currentReport.parameterValues={},e.ui={},e.report="#",e.model.currentReport.parameterValues.FROM_DATE=t("date")(new Date,"dd-MM-yyyy"),e.model.currentReport.parameterValues.TO_DATE=t("date")(new Date,"dd-MM-yyyy"),e.ui.selectReportGroup=function(t){e.model.currentReportGroup=t},e.ui.selectReport=function(t){e.model.currentReport.report=t,i.listParameters(t).success(function(t){e.model.currentReport.parameters=t}),e.activeTabIndex=1,e.ui.status="PENDING"},e.ui.viewCurrentReport=function(){e.model.currentReport.report&&(e.ui.status="LOADING",i.viewReport(e.model.currentReport.report,e.model.currentReport.parameters,e.model.currentReport.parameterValues).success(function(t){e.ui.status="LOADED";var o=new Blob([t],{type:"application/pdf"}),i=URL.createObjectURL(o);e.content=n.trustAsResourceUrl(i)}))},e.ui.isParameterAvailable=function(t){return void 0!==e.model.currentReport.parameters&&e.model.currentReport.parameters.indexOf(t)>=0},e.init=function(){i.listReports().success(function(t){e.model.reports=t}),e.ui.status="PENDING"},e.init()}])}(),function(){angular.module("appModule").factory("reportViewerModel",["ReportViewerService",function(e){function t(){this.constructor()}return t.prototype={bayList:[],vehicleList:[],vehicleCategoryList:[],clientList:[],supplierList:[],branchList:[],itemTypeList:[],itemCateoryList:[],employeeList:[],categoryList:[],itemList:[],constructor:function(){var t=this;e.getBayList().success(function(e){t.bayList=e}),e.getVehicleList().success(function(e){t.vehicleList=e}),e.getVehicleCategoryList().success(function(e){t.vehicleCategoryList=e}),e.getClientList().success(function(e){t.clientList=e}),e.getSupplierList().success(function(e){t.supplierList=e}),e.getBranchList().success(function(e){t.branchList=e}),e.getItemCateoryList().success(function(e){t.itemCateoryList=e}),e.getEmployeeList().success(function(e){t.employeeList=e}),e.getCategoryList().success(function(e){t.categoryList=e}),e.getItemList().success(function(e){t.itemList=e}),this.itemTypeList=[{indexNo:1,name:"STOCK"},{indexNo:2,name:"NON STOCK"}]},bayLable:function(e){var t="";return angular.forEach(this.bayList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},vehicleLable:function(e){var t="";return angular.forEach(this.vehicleList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.vehicleNo)}),t},vehicleCategoryLable:function(e){var t="";return angular.forEach(this.vehicleCategoryList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},categoryLable:function(e){var t="";return angular.forEach(this.categoryList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},itemLable:function(e){var t="";return angular.forEach(this.itemList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},clientLable:function(e){var t="";return angular.forEach(this.clientList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},supplierLable:function(e){var t="";return angular.forEach(this.supplierList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},branchLable:function(e){var t="";return angular.forEach(this.branchList,function(n){if(n.indexNo===parseInt(e))return void(t=n.branchCode+" - "+n.name)}),t},itemTypeLable:function(e){var t="";return angular.forEach(this.itemTypeList,function(n){if(n.name===e)return void(t=n.indexNo+" - "+n.name)}),t},itemCateoryLable:function(e){var t="";return angular.forEach(this.itemCateoryList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t},employeeLable:function(e){var t="";return angular.forEach(this.employeeList,function(n){if(n.indexNo===parseInt(e))return void(t=n.indexNo+" - "+n.name)}),t}},t}])}(),function(){angular.module("appModule").service("ReportViewerService",["$http","systemConfig",function(e,t){this.listReports=function(){return e.get(t.apiUrl+"/api/v1/report/report-viewer/list")},this.listParameters=function(n){return e.post(t.apiUrl+"/api/v1/report/report-viewer/report-parameters",JSON.stringify(n))},this.getReportUrl=function(e,n,o){var i=t.apiUrl+"/api/v1/report/report-viewer/report",a=btoa(e.fileName);return i=i+"?action="+a,angular.forEach(o,function(e,t){i=i+"&"+t+"="+e}),i},this.viewReport=function(t,n,o){return e.get(this.getReportUrl(t,n,o),{responseType:"arraybuffer"})},this.getPdfBytes=function(n){console.log(n);var o={client:"K W Chaminda"};return e.post(t.apiUrl+"/api/v1/report/report-viewer/report",JSON.stringify(o),{responseType:"arraybuffer"})},this.getBayList=function(){return e.get(t.apiUrl+"/api/care-point/master/bay/get-bays-by-branch-is-view")},this.getVehicleList=function(){return e.get(t.apiUrl+"/api/care-point/master/vehicle")},this.getVehicleCategoryList=function(){return e.get(t.apiUrl+"/api/care-point/master/priceCategory")},this.getClientList=function(){return e.get(t.apiUrl+"/api/care-point/master/client")},this.getSupplierList=function(){return e.get(t.apiUrl+"/api/care-point/master/supplier")},this.getBranchList=function(){return e.get(t.apiUrl+"/api/care-point/master/branch")},this.getItemCateoryList=function(){return e.get(t.apiUrl+"/api/care-point/master/item-category")},this.getCategoryList=function(){return e.get(t.apiUrl+"/api/care-point/master/category")},this.getItemList=function(){return e.get(t.apiUrl+"/api/care-point/master/item")},this.getEmployeeList=function(){return e.get(t.apiUrl+"/api/care-point/master/employee")}}])}(),function(){angular.module("vehicleEntranceModule",["ui.bootstrap","ui-notification"]),angular.module("vehicleEntranceModule").controller("vehicleEntranceController",["$scope","vehicleEntranceModel",function(e,t){e.model=new t}])}(),function(){angular.module("appModule").factory("vehicleEntranceFactory",function(){var e={};return e.newData=function(){return{indexNo:null,vehicleNo:null,year:null,engineNo:null,chasisNo:null,insuranceExpiryDate:null,revenueExpiryDate:null,lastMilage:null,nextMilage:null,colour:null,client:null,vehicleType:null,priceCategory:null,type:null,model:null,brand:null,fuelType:null}},e})}(),function(){var e=function(e,t,n,o){function i(){this.constructor()}return i.prototype={data:{},constructor:function(){this.data=t.newData()}},i};e.$inject=["vehicleEntranceService","vehicleEntranceFactory","$q","$filter"],angular.module("appModule").factory("vehicleEntranceModel",e)}(),function(){var e=function(e,t){};e.$inject=["$http","systemConfig"],angular.module("appModule").service("vehicleEntranceService",e)}(),function(){angular.module("appModule").controller("appController",["$scope","$cookies","$rootScope","$filter","$location","SecurityService",function(e,t,n,o,i,a){e.hamburgerOpen=!0,n.$watch("layout.loading",function(){e.routeLoading=n.layout.loading}),e.userRoles=n.userRoles,e.homepageUrls=[],e.currentPageName="",e.loginUser="",e.currentBranch="",e.loginUser=t.get("nick-name"),e.currentBranch=t.get("branch-name"),e.date=o("date")(new Date,"yyyy-MM-dd"),angular.forEach(e.userRoles,function(t){t.homepageUrl&&e.homepageUrls.push({name:t.name,url:t.homepageUrl})}),e.toggleHamburger=function(t){e.hamburgerOpen=!e.hamburgerOpen,e.currentPageName=t,e.hamburgerOpen?$timeout(function(){angular.element(document.querySelector(".side-bar-left")).css("display","none")},600):angular.element(document.querySelector(".side-bar-left")).css("display","flex")},e.isHomepage=function(){return e.loginUser=t.get("nick-name"),e.currentBranch=t.get("branch-name"),"/"===i.path()},e.logout=function(){a.logout().success(function(){i.path("/login")})}}])}(),function(){angular.module("appModule").controller("LoginController",["$scope","$cookies","$location","$timeout","SecurityService",function(e,t,n,o,i){e.ui={},e.model={},e.ui.focus=null,e.model.data={username:null,password:null},e.ui.onFocus=function(t){e.ui.focus=t},e.ui.onBlur=function(){e.ui.focus=null},e.ui.login=function(a){13===(a?a.keyCode||a.which:13)&&e.model.data.username&&e.model.data.password&&i.login(e.model.data).success(function(e,o,i){n.path("/"),t.put("nick-name",e.principal.nickName),t.put("branch-index-no",e.principal.branch),t.put("branch-name",e.principal.branchName)}).error(function(e,t){var n=angular.element(document.querySelectorAll(".login-form")[0]);n.addClass("login-failed"),o(function(){n.removeClass("login-failed")},1e3)})}}])}(),function(){angular.module("appModule").service("ConfirmPane",["$uibModal","$q",function(e,t){var n,o=function(e,t,o){function i(n,i){switch(this.modalInstance=n,this.timeout=i,this.message=t,this.title=o,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Confirm":this.title;break;case"info":this.optionPaneClass="option-pane-info",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Information":this.title;break;case"success":this.optionPaneClass="option-pane-success",this.optionPaneIcon="glyphicon-ok",this.title=void 0===this.title?"Success":this.title;break;case"warning":this.optionPaneClass="option-pane-warning",this.optionPaneIcon="glyphicon-warning-sign",this.title=void 0===this.title?"Warning":this.title;break;case"danger":this.optionPaneClass="option-pane-danger",this.optionPaneIcon="glyphicon-remove",this.title=void 0===this.title?"Danger":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return i.prototype={confirm:function(){var e=this;this.timeout(function(){e.modalInstance.close(),n.resolve()},250)},discard:function(){var e=this;this.timeout(function(){e.modalInstance.close(),n.reject()},250)}},["$uibModalInstance","$timeout",i]};this.confirm=function(i,a,r){return n=t.defer(),e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/confirm-pane.html",controller:o(i,a,r),controllerAs:"$ctrl",size:"md"}),{confirm:function(e){return n.promise.then(e,null),this},discard:function(e){return n.promise.then(null,e),this}}},this.primaryConfirm=function(e,t){return this.confirm("primary",e,t)},this.infoConfirm=function(e,t){return this.confirm("info",e,t)},this.successConfirm=function(e,t){return this.confirm("success",e,t)},this.warningConfirm=function(e,t){return this.confirm("warning",e,t)},this.dangerConfirm=function(e,t){return this.confirm("danger",e,t)},this.defaultConfirm=function(e,t){return this.confirm("default",e,t)}}])}(),function(){angular.module("appModule").service("InputPane",["$uibModal","$q","Notification",function(e,t,n){var o,i=function(e,t){function i(n,o){switch(this.modalInstance=n,this.timeout=o,this.type=e,this.title=t,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Confirm":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return i.prototype={confirm:function(e){var t=this;this.timeout(function(){angular.isUndefined(e)?n.error("please input text"):(t.modalInstance.close(),o.resolve(e))},250)},discard:function(){var e=this;this.timeout(function(){e.modalInstance.close(),o.reject()},250)}},["$uibModalInstance","$timeout",i]};this.confirm=function(n,a){return o=t.defer(),e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/input-option-pane.html",controller:i(n,a),controllerAs:"$ctrl",size:"md"}),{confirm:function(e){return o.promise.then(e,null),this},discard:function(e){return o.promise.then(null,e),this}}},this.primaryInput=function(e){return this.confirm("primary",e)},this.defaultInput=function(e){return this.confirm("default",e)}}])}(),function(){angular.module("appModule").service("optionPane",["$uibModal",function(e){var t=function(e,t,n){function o(o,i){switch(this.modalInstance=o,this.timeout=i,this.message=t,this.title=n,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Message":this.title;break;case"info":this.optionPaneClass="option-pane-info",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Information":this.title;break;case"success":this.optionPaneClass="option-pane-success",this.optionPaneIcon="glyphicon-ok",this.title=void 0===this.title?"Success":this.title;break;case"warning":this.optionPaneClass="option-pane-warning",this.optionPaneIcon="glyphicon-warning-sign",this.title=void 0===this.title?"Warning":this.title;break;case"danger":this.optionPaneClass="option-pane-danger",this.optionPaneIcon="glyphicon-remove",this.title=void 0===this.title?"Danger":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return o.prototype={continue:function(){var e=this;this.timeout(function(){e.modalInstance.close()},250)}},["$uibModalInstance","$timeout",o]};this.message=function(n,o,i){e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/option-pane.html",controller:t(n,o,i),controllerAs:"$ctrl",size:"md"})},this.primaryMessage=function(e,t){this.message("primary",e,t)},this.infoMessage=function(e,t){this.message("info",e,t)},this.successMessage=function(e,t){this.message("success",e,t)},this.warningMessage=function(e,t){this.message("warning",e,t)},this.dangerMessage=function(e,t){this.message("danger",e,t)},this.defaultMessage=function(e,t){this.message("default",e,t)}}])}(),function(){angular.module("appModule").service("ProgressPane",["$uibModal","$timeout",function(e,t){var n=function(e,t){function n(n,o){switch(this.modalInstance=n,this.timeout=o,this.title=t,this.title=void 0===this.title?"Loading...":this.title,e){case"primary":this.progressClass="progress-bar-primary",this.optionPaneClass="option-pane-primary";break;case"info":this.progressClass="progress-bar-info",this.optionPaneClass="option-pane-info";break;case"success":this.progressClass="progress-bar-success",this.optionPaneClass="option-pane-success";break;case"warning":this.progressClass="progress-bar-warning",this.optionPaneClass="option-pane-warning";break;case"danger":this.progressClass="progress-bar-danger",this.optionPaneClass="option-pane-danger";break;default:this.progressClass="progress-bar-default",this.optionPaneClass="option-pane-default"}}return n.prototype={continue:function(){var e=this;this.timeout(function(){e.modalInstance.close()},250)}},["$uibModalInstance","$timeout",n]};this.progress=function(o,i,a){var r=e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/dialog/progress-pane.html",controller:n(o,i),controllerAs:"$ctrl",size:"md"});return{close:function(){t(function(){r.close()},1e3)}}},this.primaryProgress=function(e){return this.progress("primary",e)},this.infoProgress=function(e){return this.progress("info",e)},this.successProgress=function(e){return this.progress("success",e)},this.warningProgress=function(e){return this.progress("warning",e)},this.dangerProgress=function(e){return this.progress("danger",e)},this.defaultProgress=function(e){return this.progress("default",e)}}])}(),angular.module("appModule").service("ngDraggable",[function(){this.inputEvent=function(e){return angular.isDefined(e.touches)?e.touches[0]:angular.isDefined(e.originalEvent)&&angular.isDefined(e.originalEvent.touches)?e.originalEvent.touches[0]:e}}]),angular.module("appModule").directive("ngDrag",["$rootScope","$parse","$document","$window","ngDraggable",function(e,t,n,o,i){return{restrict:"A",link:function(a,r,c){a.value=c.ngDrag;var l,s,u,d,p,f,m,g,h=!1,v="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,y="touchmove mousemove",C=a.$id,b=null,L=null,D=!1,w=null,M=t(c.ngDragSuccess)||null,N=!angular.isDefined(c.allowTransform)||a.$eval(c.allowTransform),x=t(c.ngDragData),$=angular.noop,A=function(e){e&&(a.$on("$destroy",E),a.$watch(c.ngDrag,I),a.$watch(c.ngCenterAnchor,S),g?g.on("touchstart mousedown",U):r.on("touchstart mousedown",U),v||"img"!=r[0].nodeName.toLowerCase()||r.on("mousedown",function(){return!1}))},E=function(e){A(!1)},I=function(e,t){D=e},S=function(e,t){angular.isDefined(e)&&(h=e||"true")},P=function(e){return angular.isDefined(angular.element(e.target).attr("ng-cancel-drag"))},U=function(e){D&&(P(e)||"mousedown"==e.type&&0!=e.button||(v?(R(),w=setTimeout(function(){R(),k(e)},100),n.on(y,R),n.on("touchend mouseup",R)):k(e)))},R=function(){clearTimeout(w),n.off(y,R),n.off("touchend mouseup",R)},k=function(t){D&&(t.preventDefault(),l=r[0].getBoundingClientRect(),L=N?l:{left:document.body.scrollLeft,top:document.body.scrollTop},r.centerX=r[0].offsetWidth/2,r.centerY=r[0].offsetHeight/2,s=i.inputEvent(t).pageX,u=i.inputEvent(t).pageY,f=s-l.left,m=u-l.top,h?(d=s-r.centerX-o.pageXOffset,p=u-r.centerY-o.pageYOffset):(d=s-f-o.pageXOffset,p=u-m-o.pageYOffset),n.on(y,T),n.on("touchend mouseup",V),$=e.$on("draggable:_triggerHandlerMove",function(e,t){T(t)}))},T=function(t){D&&(t.preventDefault(),r.hasClass("dragging")||(b=x(a),r.addClass("dragging"),e.$broadcast("draggable:start",{x:s,y:u,tx:d,ty:p,event:t,element:r,data:b})),s=i.inputEvent(t).pageX,u=i.inputEvent(t).pageY,h?(d=s-r.centerX-L.left,p=u-r.centerY-L.top):(d=s-f-L.left,p=u-m-L.top),O(d,p),e.$broadcast("draggable:move",{x:s,y:u,tx:d,ty:p,event:t,element:r,data:b,uid:C}))},V=function(t){D&&(t.preventDefault(),e.$broadcast("draggable:end",{x:s,y:u,tx:d,ty:p,event:t,element:r,data:b,callback:F,uid:C}),r.removeClass("dragging"),r.parent().find(".drag-enter").removeClass("drag-enter"),B(),n.off(y,T),n.off("touchend mouseup",V),$())},F=function(e){M&&a.$apply(function(){M(a,{$data:b,$event:e})})},B=function(){N?r.css({transform:"","z-index":"","-webkit-transform":"","-ms-transform":""}):r.css({position:"",top:"",left:""})},O=function(e,t){N?r.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","z-index":99999,"-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+t+")"}):r.css({left:e+"px",top:t+"px",position:"fixed"})};!function(){if(r.attr("draggable","false"),r[0].querySelectorAll)var e=angular.element(r[0].querySelectorAll("[ng-drag-handle]"));else var e=r.find("[ng-drag-handle]");e.length&&(g=e),A(!0)}()}}}]).directive("ngDrop",["$parse","$timeout","$window","$document","ngDraggable",function(e,t,n,o,i){return{restrict:"A",link:function(n,i,a){n.value=a.ngDrop,n.isTouching=!1;var r=null,c=n.$id,l=!1,s=e(a.ngDropSuccess),u=e(a.ngDragStart),d=e(a.ngDragStop),p=e(a.ngDragMove),f=function(e){e&&(n.$watch(a.ngDrop,g),n.$on("$destroy",m),n.$on("draggable:start",h),n.$on("draggable:move",v),n.$on("draggable:end",y))},m=function(e){f(!1)},g=function(e,t){l=e},h=function(e,o){l&&(C(o.x,o.y,o.element),a.ngDragStart&&t(function(){u(n,{$data:o.data,$event:o})}))},v=function(e,o){l&&(C(o.x,o.y,o.element),a.ngDragMove&&t(function(){p(n,{$data:o.data,$event:o})}))},y=function(e,o){if(!l||c===o.uid)return void b(!1,o.element);C(o.x,o.y,o.element)&&(o.callback&&o.callback(o),a.ngDropSuccess&&t(function(){s(n,{$data:o.data,$event:o,$target:n.$eval(n.value)})})),a.ngDragStop&&t(function(){d(n,{$data:o.data,$event:o})}),b(!1,o.element)},C=function(e,t,o){var a=L(e,t);return n.isTouching=a,a&&(r=i),b(a,o),a},b=function(e,t){e?(i.addClass("drag-enter"),t.addClass("drag-over")):r==i&&(r=null,i.removeClass("drag-enter"),t.removeClass("drag-over"))},L=function(e,t){var n=i[0].getBoundingClientRect();return e-=o[0].body.scrollLeft+o[0].documentElement.scrollLeft,t-=o[0].body.scrollTop+o[0].documentElement.scrollTop,e>=n.left&&e<=n.right&&t<=n.bottom&&t>=n.top};!function(){f(!0)}()}}}]).directive("ngDragClone",["$parse","$timeout","ngDraggable",function(e,t,n){return{restrict:"A",link:function(e,t,n){var o,i=!0,a=null;e.clonedData={};var r=function(t){t&&(e.$on("draggable:start",l),e.$on("draggable:move",s),e.$on("draggable:end",u),c())},c=function(){o.off("mousedown touchstart touchmove touchend touchcancel",f),o.on("mousedown touchstart touchmove touchend touchcancel",f)},l=function(n,o,r){i=!0,angular.isDefined(o.data.allowClone)&&(i=o.data.allowClone),i&&(e.$apply(function(){e.clonedData=o.data}),t.css("width",o.element[0].offsetWidth),t.css("height",o.element[0].offsetHeight),p(o.tx,o.ty)),a=t[0].getBoundingClientRect()},s=function(e,t){i&&(_tx=t.tx+a.left,_ty=t.ty+a.top,p(_tx,_ty))},u=function(e,t){i&&d()},d=function(){t.css({left:0,top:0,position:"fixed","z-index":-1,visibility:"hidden"})},p=function(e,n){t.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+n+", 0, 1)","z-index":99999,visibility:"visible","-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+n+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+n+")"})},f=function(e){var t=e;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};!function(){o=t.find("img"),t.attr("draggable","false"),o.attr("draggable","false"),d(),r(!0)}()}}}]).directive("ngPreventDrag",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(e,t,n){var o=function(e){e&&t.on("mousedown touchstart touchmove touchend touchcancel",i)},i=function(e){var t=e.originalEvent;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};!function(){t.attr("draggable","false"),o(!0)}()}}}]).directive("ngCancelDrag",[function(){return{restrict:"A",link:function(e,t,n){t.find("*").attr("ng-cancel-drag","ng-cancel-drag")}}}]).directive("ngDragScroll",["$window","$interval","$timeout","$document","$rootScope",function(e,t,n,o,i){return{restrict:"A",link:function(t,n,a){var r=null,c={verticalScroll:a.verticalScroll||!0,horizontalScroll:a.horizontalScroll||!0,activationDistance:a.activationDistance||75,scrollDistance:a.scrollDistance||15},l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),s=!1,u=function(){function t(e){var n=Array.prototype.slice.call(arguments);s&&l(function(){i.$apply(function(){e.apply(null,n),t(e)})})}s=!0,t(function(){if(r){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),l=0,s=0;if(c.horizontalScroll&&(r.clientX<c.activationDistance?l=-c.scrollDistance:r.clientX>t-c.activationDistance&&(l=c.scrollDistance)),c.verticalScroll&&(r.clientY<c.activationDistance?s=-c.scrollDistance:r.clientY>a-c.activationDistance&&(s=c.scrollDistance)),0!==l||0!==s){var u=e.pageXOffset||o[0].documentElement.scrollLeft,d=e.pageYOffset||o[0].documentElement.scrollTop,p=n.css("transform");n.css("transform","initial"),e.scrollBy(l,s);var f=(e.pageXOffset||o[0].documentElement.scrollLeft)-u,m=(e.pageYOffset||o[0].documentElement.scrollTop)-d;n.css("transform",p),r.pageX+=f,r.pageY+=m,i.$emit("draggable:_triggerHandlerMove",r)}}})},d=function(){s=!1};t.$on("draggable:start",function(e,t){t.element[0]===n[0]&&(s||u())}),t.$on("draggable:end",function(e,t){t.element[0]===n[0]&&s&&d()}),t.$on("draggable:move",function(e,t){t.element[0]===n[0]&&(r=t.event)})}}}]),function(){angular.module("appModule").directive("btn",["rippleService",function(e){return{restrict:"C",link:e.ripple}}]).directive("fab",["rippleService",function(e){return{restrict:"C",link:e.ripple,scope:{show:"=fabShow"}}}]),angular.module("appModule").service("rippleService",["$timeout",function(e){this.ripple=function(t,n,o){void 0===t.show&&n.bind("click",function(t){t.preventDefault();var n=angular.element("<div/>"),o=this.getBoundingClientRect(),i=t.pageX-o.left,a=t.pageY-o.top;n.addClass("ripple-effect"),n.css("height",this.offsetWidth+"px"),n.css("width",this.offsetWidth+"px"),n.css({top:a-this.offsetWidth/2+"px",left:i-this.offsetWidth/2+"px"}),angular.element(this).append(n),e(function(){n.remove()},1e3)}),t.$watch("show",function(e,t){void 0!==e&&(n.hasClass("show")||n.hasClass("hide")?i(e):e?n.addClass("show"):n.addClass("hide"))});var i=function(t){n.removeClass("show"),n.removeClass("hide"),t?(n.addClass("show-start"),e(function(){n.addClass("show-active"),e(function(){n.addClass("show"),n.removeClass("show-active"),n.removeClass("show-start")},225)},250)):(n.addClass("hide-start"),n.addClass("hide-active"),e(function(){n.addClass("hide"),n.removeClass("hide-active"),n.removeClass("hide-start")},225))}}}])}(),function(){angular.module("appModule").filter("fixedLength",function(){return function(e,t){return(1e4+""+e).slice(-t)}})}(),function(){angular.module("appModule").directive("input",["focusService",function(e){return{restrict:"E",link:e.focus}}]),angular.module("appModule").service("focusService",function(){this.focus=function(e,t,n){t.bind("keypress",function(e){if(13===(e.keyCode||e.which)){e.preventDefault();for(var t=document.querySelectorAll("input, select, button"),n=e.srcElement,o=!1,i=t.length,a=0;a<i;a++){var r=t[a];if(o){if("none"!==r.style.display&&!1===r.disabled){r.focus();break}}else r===n&&(o=!0)}}})}})}(),angular.module("appModule").directive("grid",["gridService",function(e){return{restrict:"A",link:e.grid}}]),angular.module("appModule").service("gridService",function(){this.grid=function(e,t,n){var o={x:12,y:12},i=angular.fromJson(n.grid),a=i.x,r=i.y,c=i.w,l=i.h,s=i.color;t.css("position","absolute"),t.css("display","block"),t.css("width",c/o.x*100+"%"),t.css("height",l/o.y*100+"%"),t.css("left",a/o.x*100+"%"),t.css("top",r/o.y*100+"%"),t.css("background-color",s)}}),function(){angular.module("appModule").directive("smartInput",function(){function e(e,t){if(null!==e)if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.setSelectionRange?(e.setSelectionRange(t,t),e.focus()):e.focus()}return{require:"?ngModel",restrict:"A",link:function(t,n,o,i){n.bind("focus",function(){try{this.selectionStart=0,this.selectionEnd=this.value.length+1}catch(e){this.select()}}),n.bind("blur",function(){a()}),i.$parsers.push(function(t){var a=n.val(),r=o.smartInput;if(void 0!==r&&""!==r||(r="text"),"decimal"===r||"integer"===r){for(;"0"===a.charAt(0);)a=a.substr(1);var c;"decimal"===r?(a=a.replace(/[^\d.\',']/g,""),c=parseInt(o.decimalPrecision),isNaN(c)&&(c=2)):"integer"===r&&(a=a.replace(/[^\d\',']/g,""),c=-1);var l=a.indexOf(".");l>=0&&(a=a.slice(0,l+1+c));var s=a.split("."),u=s[0],d=s[1];if(u=u.replace(/[^\d]/g,""),u.length>3)for(var p=Math.floor(u.length/3);p>0;){var f=u.indexOf(",");f<0&&(f=u.length),f-3>0&&(u=u.slice(0,f-3)+","+u.slice(f-3)),p--}d=void 0===d?"":"."+d;var m=u+d;m!==t&&(i.$setViewValue(m),i.$render());var g=parseFloat(m.replace(/[\',']/g,""));return isNaN(g)?0:g}if("date"===r){for(;"0"===a.charAt(0);)a=a.substr(1);a=a.replace(/[^\d\'#'\-]/g,""),console.log(a+"---");var h=a.split("-"),v=h[0],y=h[1],C=h[2];console.log(v+"+"+y+"+"+C);var b=-1;void 0===v?(v="#".repeat(4),b=0):(v=v.replace(/[^\d]/g,""),b=v.length,v=v.substr(0,4),v+="#".repeat(4-v.length)),void 0===y?(y="#".repeat(2),b=4===b?5:b):(y=y.replace(/[^\d]/g,""),parseInt(y)>12&&(y=""),b=4===b?5+y.length:b,y=y.substr(0,2),y+="#".repeat(2-y.length)),void 0===C?(C="#".repeat(2),b=7===b?8:b):(C=C.replace(/[^\d]/g,""),C>new Date(parseInt(v),parseInt(y),0).getDate()&&(C=""),b=7===b?8+C.length:b,C=C.substr(0,2),C+="#".repeat(2-C.length));var m=v+"-"+y+"-"+C;return m!==a&&(i.$setViewValue(m),i.$render(),e(n[0],b)),m.indexOf("#")>0?null:new Date(m)}});var a=function(){var e=n.val(),t=o.smartInput;if(void 0!==t&&""!==t||(t="text"),"decimal"===t){var i=parseInt(o.inputDecimal);isNaN(i)&&(i=2);var a=e.split("."),r=a[0],c=a[1];void 0!==r&&""!==r||(r="0"),void 0===c?c="0".repeat(i):c+="0".repeat(i-c.length),n.val(r+"."+c)}else"integer"===t?(void 0!==e&&""!==e||(e="0"),n.val(e)):"date"===t&&(void 0!==e&&""!==e||(e="####-##-##"),n.val(e))};n.ready(function(){a()})}}})}(),function(){angular.module("appModule").directive("inputHint",["InputHintService","$document","$compile",function(e,t,n){return{restrict:"A",scope:!0,link:e.inputHint}}]),angular.module("appModule").service("InputHintService",["$document","$compile",function(e,t){this.inputHint=function(n,o,i){var a=t('<div ng-class="tipClass">{{ text }}<div class="input-hint-arrow"></div></div>')(n);n.tipClass=["input-hint"],n.text=i.inputHint,i.tooltipPosition?n.tipClass.push("input-hint-"+i.tooltipPosition):n.tipClass.push("input-hint-down"),i.$set("placeholder",n.text),e.find("body").append(a),o.bind("focus",function(e){a.addClass("input-hint-show"),a=angular.element(a);var t=e.target.getBoundingClientRect(),n={},o=a[0].offsetHeight,i=a[0].offsetWidth,r=t.width||t.right-t.left,c=t.height||t.bottom-t.top;a.hasClass("input-hint-down")?(n.top=t.top+c+5,n.left=t.left-i/2+r/2):(n.top=t.top-o-5,n.left=t.left-i/2+r/2),a.css({top:n.top+"px",left:n.left+"px"})}),o.bind("blur",function(e){a.removeClass("input-hint-show")})}}])}(),function(){angular.module("appModule").service("ModalDialog",["$uibModal",function(e){this.showModel=function(t,n,o){e.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:n,controller:o,size:t})},this.modalOpen=function(e,t,n){return this.showModel(e,t,n)}}])}(),angular.module("appModule").directive("rangeSpinner",function(){return{restrict:"AE",scope:{rangeMin:"@",rangeStep:"@",rangeMax:"@",rangeDefaultValue:"@",acceptDecimal:"@",rangeModel:"=",nameOfField:"@",idOfField:"@",rangeDecimalPrecision:"@"},templateUrl:"tmpl/rangeSpinner.html",controller:["$scope","$element","$attrs",function(e,t,n){if(e.minRange=+(angular.isDefined(n.rangeMin)?n.rangeMin:0),e.step=+(angular.isDefined(n.rangeStep)?n.rangeStep:0),e.maxRange=+(angular.isDefined(n.rangeMax)?n.rangeMax:100),e.rangeDecPrec=+(angular.isDefined(n.rangeDecimalPrecision)?n.rangeDecimalPrecision:1),angular.isDefined(e.rangeDefaultValue)&&!isNaN(e.rangeDefaultValue)){var o=parseFloat(e.rangeDefaultValue);o>=e.minRange&&o<=e.maxRange?e.rangeModel=parseFloat(e.rangeDefaultValue).toFixed(e.rangeDecPrec):e.rangeModel=parseFloat(e.minRange).toFixed(e.rangeDecPrec)}e.rangePlusFunc=function(){angular.isUndefined(e.rangeModel)||isNaN(e.rangeModel)||""===e.rangeModel?e.rangeModel=e.minRange:e.rangeModel<e.maxRange&&("true"==e.acceptDecimal?e.rangeModel=parseFloat(parseFloat(e.rangeModel)+parseFloat(e.step)).toFixed(e.rangeDecPrec):e.rangeModel=parseInt(parseInt(e.rangeModel)+parseInt(e.step)))},e.rangeMinusFunc=function(){angular.isUndefined(e.rangeModel)||isNaN(e.rangeModel)||""===e.rangeModel?e.rangeModel=e.minRange:e.rangeModel>e.minRange&&("true"==e.acceptDecimal?e.rangeModel=parseFloat(parseFloat(e.rangeModel)-parseFloat(e.step)).toFixed(e.rangeDecPrec):e.rangeModel=parseInt(parseInt(e.rangeModel)-parseInt(e.step)))},e.$watch(function(){return e.rangeModel},function(t,n){
if(angular.isDefined(e.rangeModel))if(isNaN(e.rangeModel))e.rangeModel=n;else if(e.rangeModel>e.maxRange)e.rangeModel=e.maxRange;else if(e.rangeModel<e.minRange)e.rangeModel=e.minRange;else if("true"==e.acceptDecimal){var o=String(e.rangeModel).split(".");o.length>1&&o[1].length>e.rangeDecPrec&&(e.rangeModel=parseFloat(e.rangeModel).toFixed(e.rangeDecPrec))}else e.rangeModel=parseInt(e.rangeModel)},!0)}]}}).run(["$templateCache",function(e){e.put("tmpl/rangeSpinner.html",'<div class="input-group" style="width: 80px;">                         <span class="input-group-btn"> \t\t\t\t<button class="btn btn-primary" type="button" ng-click="rangeMinusFunc()" style="background: #9DA5BE !important;color: white! important;font-weight:700;">-</button> \t\t\t</span>                                 <input class="form-control" style="width: 50px;margin-top: 7px;font-weight:700;text-align: center;" name="{{nameOfField}}" id="{{idOfField}}" type="text" range-min="{{rangeMin}}" range-step="{{rangeStep}}" range-max="{{rangeMax}}" ng-model="rangeModel" required read-only/>  \t\t\t<span class="input-group-btn">                                 <button class="btn btn-primary" type="button" ng-click="rangePlusFunc()" style="background: #9DA5BE !important;color: white! important;font-weight:700;">+</button>\t\t\t</span> \t\t\t</div>')}]),function(){angular.module("appModule").service("optionPane",["$uibModal",function(e){var t=function(e,t,n){function o(o,i){switch(this.modalInstance=o,this.timeout=i,this.message=t,this.title=n,e){case"primary":this.optionPaneClass="option-pane-primary",this.optionPaneIcon="glyphicon glyphicon-tag",this.title=void 0===this.title?"Message":this.title;break;case"info":this.optionPaneClass="option-pane-info",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Information":this.title;break;case"success":this.optionPaneClass="option-pane-success",this.optionPaneIcon="glyphicon-ok",this.title=void 0===this.title?"Success":this.title;break;case"warning":this.optionPaneClass="option-pane-warning",this.optionPaneIcon="glyphicon-warning-sign",this.title=void 0===this.title?"Warning":this.title;break;case"danger":this.optionPaneClass="option-pane-danger",this.optionPaneIcon="glyphicon-remove",this.title=void 0===this.title?"Danger":this.title;break;default:this.optionPaneClass="option-pane-default",this.optionPaneIcon="glyphicon-bell",this.title=void 0===this.title?"Note":this.title}}return o.prototype={continue:function(){var e=this;this.timeout(function(){e.modalInstance.close()},250)}},["$uibModalInstance","$timeout",o]};this.message=function(n,o,i){e.open({animation:!0,backdrop:"static",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"./app/util/option-pane/option-pane.html",controller:t(n,o,i),controllerAs:"$ctrl",size:"md"})},this.primaryMessage=function(e,t){this.message("primary",e,t)},this.infoMessage=function(e,t){this.message("info",e,t)},this.successMessage=function(e,t){this.message("success",e,t)},this.warningMessage=function(e,t){this.message("warning",e,t)},this.dangerMessage=function(e,t){this.message("danger",e,t)},this.defaultMessage=function(e,t){this.message("default",e,t)}}])}(),function(){angular.module("appModule").filter("unique",function(){return function(e,t){var n=[],o=[];return angular.forEach(e,function(e){var i=e[t];-1===o.indexOf(i)&&(o.push(i),n.push(e))}),n}})}(),function(){angular.module("appModule").run(["$rootScope","$location","$route","$timeout",function(e,t,n,o){e.config={},e.config.app_url=t.url(),e.config.app_path=t.path(),e.layout={},e.layout.loading=!1,e.$on("$routeChangeStart",function(t,n,i){n&&"/login"!==n.$$route.originalPath&&i&&"/login"!==i.$$route.originalPath&&o(function(){e.layout.loading=!0})}),e.$on("$routeChangeSuccess",function(){o(function(){e.layout.loading=!1},700)}),e.$on("$routeChangeError",function(){e.layout.loading=!1})}])}(),function(){angular.module("appModule").factory("XSRFInterceptor",["$cookies","$log",function(e,t){return{request:function(t){var n=e.get("XSRF-TOKEN");return n&&(t.headers["X-XSRF-TOKEN"]=n),t}}}]),angular.module("appModule").config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.withCredentials=!0,e.interceptors.push("XSRFInterceptor")}]),angular.module("appModule").run(["$rootScope","$location","$cookies","SecurityService",function(e,t,n,o){e.$on("$routeChangeStart",function(e,n,i){o.ping().success(function(e,n,o){"/login"===t.path()&&t.path("/")}).error(function(e,n){t.path("/login")})})}])}(),function(){var e=function(e,t){this.login=function(n){var o=n?{authorization:"Basic "+btoa(n.username+":"+n.password)}:{};return t.get(e.apiUrl+"/security/login",{headers:o})},this.logout=function(){return t.get(e.apiUrl+"/security/logout")},this.ping=function(){var n={"X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Origin":"*"};return t.get(e.apiUrl+"/api/v1/system/environment/ping",{headers:n})}};e.$inject=["systemConfig","$http"],angular.module("appModule").service("SecurityService",e)}();